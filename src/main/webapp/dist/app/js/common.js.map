{"version":3,"sources":["common.js","webpack/bootstrap 48be1fd8d19a9f72c8b2","./src/app/js-convertted/common/common.js","./src/app/js-convertted/common/restfulAPI.js","./src/app/js-convertted/common/pageManager.js","./src/app/component/dialog.html ./~/html-loader?-attrs","./src/app/component/select.html ./~/html-loader?-attrs","./src/app/component/toast.html ./~/html-loader?-attrs"],"names":["modules","require","moduleId","installedModules","exports","module","id","loaded","call","installedChunks",14,"e","chunkId","callback","undefined","push","head","document","getElementsByTagName","script","createElement","type","charset","src","p","1","2","3","4","5","6","7","8","9","10","11","12","13","appendChild","cache","window","chunkIds","moreModules","callbacks","length","shift","apply","templateCompile","segment","data","parentData","$index","$parentIndex","dataPath","myEval","str","func","Function","reDraw","newVal","matchs","evalScope","$elem","createNewFragment","cfg","_compileElement","_cloneElement","clone","html","oldTemplate","self","compile","index","parentIndex","children","each","element","_fragment","this","evalStr","Array","_data","createDocumentFragment","_template","_path","i","len","num","eval","Object","prototype","toString","append","forEachBindElements","getMatchs","expression","match","matchs2","bindMatch","isBindMatch","isArray","array","split","isOnlyBind","putValues","watchList","isEventName","_bindEvent","text","key","Func","attrMatchs","_evalResult","attr","JSON","stringify","match2","watchStr","exec","$","replace","dataAttrNames","elemIsInForeach","$excludeElement","_arr_","ifAttr","hrefAttr","attrData","extend","$parent","event","_eval","ex","console","warn","result","textArr","forEach","v","remove","classAttr","addClass","_name","_val","matchResult","_item","itemMatchResult","_m","watch","viewModel","elem","parentsHasProperty","proName","proValue","_proName","parent","reg","RegExp","isHas","parents","test","obj","modelRoot","item","arr","n","item2","isRepeat","concat","value","watchHandler","watchObj","defaultSetFunc","oldVal","handler","splitter","pop","join","scope","defineProperty","get","set","segmentWrapper","find","bindElementsArray","slice","_i","hasClass","Component","dataModel","template","container","init","css","destroy","fadeOut","setTimeout","fadeIn","createComponent","componentName","componentTagElement","m1","m2","toUpperCase","templateSelector","componentElement","trim","xTemplate","onClickContainer","setSelectData","elementId","newSelectId","checked","val","trigger","onclick","dialogComponent","target","component","closest","router","submitButton","tagName","focus","_validator","submitHandler","pageManager","go","componentCfg","name","disabled","optionData","hideFirst","selected","IdNum","parseInt","Math","random","dialogCfg","isShowTitle","isShowFooter","title","content","primaryText","onClickPrimaryText","defaultText","onClickDefault","onClickMask","selectCfg","onSelected","siblings","options","removeAttr","getPromise","file","dataType","deffered","Deferred","ajax","url","success","res","resolve","promise","dialog","select","toast","hasBindSubmit","postData","removeAllErrorIcon","ajaxManager","action","form","formElement","responseHandler","location","hash","fail","showTooltip","pageElement","hasError","checkArray","hasScroll","filter","utils","visible","inputElements","questionElement","eq","checkHasChecked","$this","errorInput","errorCheckBox","page","log","scrollIntoView","scrollTop","checkRule","indexOf","when","done","args","arguments","_error","always","preventDefault","stopPropagation","formSelector","oldBlur","onblur","onblurHandler","then","msg","timer","onkeyup","clearTimeout","removeClass","initForQuestionnaire","checkboxNames","radioNames","pages","pageName","getInfoFromURL","name1","after","name2","last","code","addErrorMsg","message","deferred","targetElement","getError","remoteCheck","paramData","reject","parse","_paramData","params","removeErrorMsg","_noError","rules","mobile","errorMsg","number","verification","idCard","noEmpty","streetDetail","birthday","password","verifyPassword","thisRule","regFromAttr","_rule","regStr","_result","cellElement","width","height","paramToString","strArr","getDeviceInfo","userAgent","navigator","isIphone","isAndroid","host","match1","match3","paramObj","paramStr","paramArr","href","path","d","decodeURI","param","getPageSegment","fn","serializeObject","serializeArray","checkbox","validator","changeTitle","$iframe","onload","appendTo","switchHost","hostList","hostIndex","api","autoSwitchHost","common","restAPI","infoFromURL","pathUrl","myRequire","requirejs","requireArr","getOldScript","scriptName","exist","$e","oldScript","newScript","body","pageRecorder","$container","_pageStack","_defaultPage","_pageIndex","setDefault","defaultPage","reloadPage","reload","setRefreshPage","startX","endX","startY","endY","isArrivedTop","_timer_","onTouchstart","originalEvent","touches","clientY","clientX","onTouchmove","changedTouches","onTouchend","ontouchstart","ontouchmove","ontouchend","setPageAppend","pageAppend","_pageAppend","beforeInit","history","state","_go","$tooltips","showType","requestBackend","responseText","getSendData","wxId","WXID","getSuccessHandler","successResult","securityVerification","getErrorHandler","error","clearPageStack","isContain","notReturn","newStack","isAll","containerChildren","isEqual","getCookie","cookie","setCookie","to","onHashChange","watchURL","oldURL","newURL","resultHref","isRefresh","m0","m3","m4","_findInStack","_page","remanentPagesLength","pagesArr","_back","getPageHtml","selectWrapperElement","prev","insertBefore","compileHtml","$html","scripts","map","getOtherScriptStr","innerScript","scriptStr","additionalScript","HTMLScriptElement","scriptSrc","loadPage","isInited","initPage","pageId","stackItem","dom","toastCfg","toastComponent","on","titleContent","off","getFooterText","htmlWrapper","textArray","pageMap","user-active","home","BSP-tzbs","OGTT-testing","OGTT-testingById","tel-change","tel-changing","Physical-testingresult","Physical-testingresultById","resultHtml","replaceState","back","stack","found","_bind","events","t","isBind"],"mappings":"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","file":"common.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/ \t\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t14:0\n/******/ \t};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction require(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/ \t\t\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, require);\n/******/ \t\t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \trequire.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, require);\n/******/ \t\t\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.src = require.p + \"\" + {\"1\":\"a3fd827c0c004e429621\",\"2\":\"c6b9a0c8ea676fc7a8a5\",\"3\":\"fdf17f84105abe68c376\",\"4\":\"0d071a438bb8a16a7cbd\",\"5\":\"31d37a9f2bac8b793464\",\"6\":\"2007260e854be396e11a\",\"7\":\"822f0acb551a24ce64c6\",\"8\":\"441c77ea8d6164471d31\",\"9\":\"7a76ae47a72a1b8ec582\",\"10\":\"5e4d8a5a457e49ee3711\",\"11\":\"cbb2e3af59379e0d3cbd\",\"12\":\"758210ecaa58b9238c89\",\"13\":\"ab1b112b753ba67d9da4\",\"14\":\"b011ba13a4be36f48fa4\"}[chunkId] + \".js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/ \t\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \trequire.modules = modules;\n/******/ \t\n/******/ \t// expose the module cache\n/******/ \trequire.cache = installedModules;\n/******/ \t\n/******/ \t// __webpack_public_path__\n/******/ \trequire.p = \"dist/app/js/\";\n/******/ \t\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, callbacks = [];\n/******/ \t\twhile(chunkIds.length) {\n/******/ \t\t\tchunkId = chunkIds.shift();\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, require);\n/******/ \t\tif(moreModules[0]) {\n/******/ \t\t\tinstalledModules[0] = 0;\n/******/ \t\t\trequire(0);\n/******/ \t\t}\n/******/ \t};\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ function(module, exports, require) {\n\n\t\n\t    \n\t    var xTemplate = {};\n\t    xTemplate.dialog = require(17);\n\t    xTemplate.select = require(18);\n\t    xTemplate.toast = require(19);\n\t\n\t    /**\n\t     * 公共方法: 模板编译\n\t     * @param segment{$HTMLElement} jquery dom 对象\n\t     * @param data{Object} 数据模型对象\n\t     * @return {$HTMLElement} 编译后的$dom对象\n\t     * @example 在构造函数中\n\t     * compile.call(this, $(htmlString), this.viewModel)\n\t     * */\n\t    function templateCompile(segment, data, parentData, $index, $parentIndex, dataPath) {\n\t        var self = this, segmentWrapper, $excludeElement;\n\t        if (typeof dataPath === 'undefined') {\n\t            segmentWrapper = $('<div class=\"segment-wrapper\"></div>');\n\t            segment = segmentWrapper.append(segment);\n\t        }\n\t        $excludeElement = segment.find('[data-bind*=foreach]').find('[data-bind]');\n\t        dataPath = dataPath || [];\n\t        //segment.find('[data-bind]').filter(function (i, e) {\n\t        //  return !parentsHasProperty($(e), 'data-bind', 'foreach');\n\t        //});\n\t        function myEval(str, data) {\n\t            var func = 'with(data){' +\n\t                'var result;' +\n\t                'if(typeof str === \"undefined\"){str = \"\";}' +\n\t                'str = str.replace(/{#([^{}]+)}/g, function(m1, m2){return data[m2];});' +\n\t                'try{result = eval(str)}catch(ex){result = str; console.log(ex);} return result;}';\n\t            return (new Function('data', 'str', func))(data, str);\n\t        }\n\t\n\t        function reDraw(newVal, matchs, evalScope, $elem, $index, dataPath) {\n\t            var self = this;\n\t            var evalStr = matchs instanceof Array ? matchs[2] : matchs;\n\t            var _data = newVal || myEval(evalStr, evalScope);\n\t            var _fragment = document.createDocumentFragment();\n\t            var oldTemplate = $elem._template || ($elem._template = $elem.html());\n\t\n\t            function createNewFragment(cfg) {\n\t                var _compileElement;\n\t                var _cloneElement = $elem.clone();\n\t                _cloneElement.html(oldTemplate);\n\t                _compileElement = (self.compile || templateCompile).call(self, _cloneElement, cfg.data, cfg.parentData, cfg.index, cfg.parentIndex, cfg.dataPath);\n\t                _compileElement.children().each(function (index, element) {\n\t                    //var e = $(element).clone()[0];\n\t                    _fragment.appendChild(element);\n\t                });\n\t            }\n\t\n\t            var _path;\n\t            if (_data instanceof Array) {\n\t                for (var i = 0, len = _data.length; i < len; i++) {\n\t                    _path = (dataPath.push(evalStr + '[' + i + ']'), dataPath);\n\t                    createNewFragment.call(self, {\n\t                        data: _data[i],\n\t                        parentData: (function () {\n\t                            var num = 0;\n\t                            var len = _path.length;\n\t                            if (len > 0) {\n\t                                num = len - 2;\n\t                                num = num < 0 ? 0 : num;\n\t                                return eval(_path[num]);\n\t                            } else {\n\t                                return null;\n\t                            }\n\t                        }()),\n\t                        index: i,\n\t                        parentIndex: $index,\n\t                        dataPath: _path\n\t                    });\n\t                }\n\t            } else if (Object.prototype.toString.call(_data) === '[object Object]') {\n\t                _path = (dataPath.push(evalStr), dataPath);\n\t                createNewFragment.call(self, {\n\t                    data: _data,\n\t                    parentData: parentData,\n\t                    index: $index,\n\t                    parentIndex: $parentIndex,\n\t                    dataPath: _path\n\t                });\n\t            }\n\t            $elem.html('');\n\t            $elem.append(_fragment);\n\t        }\n\t\n\t        var bindElementsArray = Array.prototype.slice.call(segment.find('[data-bind]'));\n\t\n\t        function forEachBindElements(index, element, parentData, $parentIndex) {\n\t            var self = this;\n\t            var $elem = $(element);\n\t            var expression = $elem.attr('data-bind').replace(/\\$root/g, 'self.viewModel');\n\t            var dataAttrNames = ['data-if', 'data-href', 'data-attr', 'data-bind', 'data-class'];\n\t\n\t            function getMatchs(expression) {\n\t                var matchs = expression.match(/^\\b(\\w*?)\\b:(.*)/);\n\t                var matchs2 = expression.match(/^\\{(.*)\\}$/);\n\t                var bindMatch = expression.match(/\\(\\(([^\\(\\)]+)\\)\\)/);\n\t                var isBindMatch = false;\n\t                if (matchs2) {\n\t                    return {\n\t                        isArray: true,\n\t                        array: matchs2[1].split(',')\n\t                    }\n\t                }\n\t                if (!matchs) {\n\t                    if (bindMatch) {\n\t                        return {\n\t                            isOnlyBind: true,\n\t                            matchs: bindMatch[1]\n\t                        };\n\t                    } else {\n\t                        return false;\n\t                    }\n\t                }\n\t                if (bindMatch) {\n\t                    matchs[2] = bindMatch[1];\n\t                    isBindMatch = true;\n\t                }\n\t                return {\n\t                    matchs: matchs,\n\t                    isBindMatch: isBindMatch\n\t                };\n\t            }\n\t\n\t            if (elemIsInForeach($elem, $excludeElement)) {\n\t                return;\n\t            }\n\t            if (typeof data === 'array') {\n\t                data = {_arr_: data};\n\t            }\n\t            var watchList = [];\n\t            with (data) {\n\t                var ifAttr = $elem.attr(dataAttrNames[0]);\n\t                var hrefAttr = $elem.attr(dataAttrNames[1]);\n\t                var attrData = $elem.attr(dataAttrNames[2]);\n\t                var $parent = parentData;\n\t                var evalScope = $.extend({}, data, {\n\t                    $parent: parentData,\n\t                    $index: $index,\n\t                    $parentIndex: $parentIndex,\n\t                    self: self\n\t                });\n\t                var _bindEvent = function ($elem, matchs, $index, myEval, evalScope, data) {\n\t                    $elem[0][('on' + matchs[1])] = (function ($index) {\n\t                        return function (event) {\n\t                            try {\n\t                                var _eval = myEval(matchs[2], evalScope);\n\t                                _eval.call(this, event, data, $index);\n\t                            } catch (ex) {\n\t                                console.warn('_eval:::', _eval, 'matchs:::', matchs[2], 'evalScope:::', evalScope);\n\t                            }\n\t                        }\n\t                    })($index);\n\t                };\n\t                var isEventName = function (text) {\n\t                    var result = false;\n\t                    var textArr = ['click', 'blur', 'change', 'touch', 'focus', 'load', 'scroll', 'select'];\n\t                    textArr.forEach(function (v) {\n\t                        if (v === text) {\n\t                            result = true;\n\t                        }\n\t                    });\n\t                    return result;\n\t                };\n\t                if (ifAttr) {\n\t                    ifAttr = ifAttr.replace(/\\$root/g, 'self.viewModel');\n\t                    if (!myEval(ifAttr, evalScope)) {\n\t                        $elem.remove();\n\t                        return;\n\t                    }\n\t                }\n\t                if (hrefAttr) {\n\t                    hrefAttr = hrefAttr.replace(/\\$root/g, 'self.viewModel');\n\t                    hrefAttr = myEval(hrefAttr, evalScope);\n\t                    $elem.attr('href', hrefAttr);\n\t                }\n\t                var classAttr = $elem.attr(dataAttrNames[4]);\n\t                if (classAttr) {\n\t                    classAttr = classAttr.replace(/\\$root/g, 'self.viewModel');\n\t                    classAttr = myEval(classAttr, evalScope);\n\t                    $elem.addClass(classAttr);\n\t                }\n\t                if (attrData) {\n\t                    var attrMatchs;\n\t                    attrMatchs = myEval('attrMatchs=' + attrData, evalScope);\n\t                    for (var _name in attrMatchs) {\n\t                        var _val = attrMatchs[_name];\n\t                        if (_name === 'param' || _name === 'remoteCheck') {\n\t                            _val = JSON.stringify(_val);\n\t                            _name = 'data-' + _name;\n\t                        }\n\t                        if (_name === 'addClass') {\n\t                            $elem.addClass(_val);\n\t                        } else {\n\t                            $elem.attr(_name, _val);\n\t                        }\n\t                    }\n\t                }\n\t\n\t                var matchResult = getMatchs(expression);\n\t                if (matchResult) {\n\t                    if (matchResult.isArray) {\n\t                        for (var _m = 0, _item, itemMatchResult; _m < matchResult.array.length; _m++) {\n\t                            _item = matchResult.array[_m];\n\t                            itemMatchResult = getMatchs(_item);\n\t                            if (itemMatchResult) {\n\t                                putValues.call(self, itemMatchResult.matchs, itemMatchResult.isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent);\n\t                            }\n\t                        }\n\t                    } else if (matchResult.isOnlyBind) {\n\t                        $elem._template = $elem.html();\n\t                        watchList.push({\n\t                            key: matchResult.matchs,\n\t                            Func: function (newVal) {\n\t                                reDraw.call(self, newVal, matchResult.matchs, evalScope, $elem, $index, dataPath);\n\t                            }\n\t                        });\n\t                    } else {\n\t                        putValues.call(self, matchResult.matchs, matchResult.isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent);\n\t                    }\n\t                }\n\t\n\t                function putValues(matchs, isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent) {\n\t                    var self = this;\n\t                    if (matchs) {\n\t                        switch (matchs[1]) {\n\t                            case 'text':\n\t                                if (matchs[2] === '[]') {\n\t                                    $elem.text(data);\n\t                                } else {\n\t                                    $elem.text(myEval(matchs[2], evalScope));\n\t                                    if (isBindMatch) {\n\t                                        watchList.push({\n\t                                            key: matchs[2],\n\t                                            Func: function (newVal) {\n\t                                                $elem.text(newVal);\n\t                                            }\n\t                                        });\n\t                                    }\n\t                                }\n\t                                break;\n\t                            case 'html':\n\t                                $elem.html(myEval(matchs[2], evalScope));\n\t                                if (isBindMatch) {\n\t                                    watchList.push({\n\t                                        key: matchs[2],\n\t                                        Func: function (newVal) {\n\t                                            $elem.html(newVal);\n\t                                        }\n\t                                    });\n\t                                }\n\t                                break;\n\t                            case 'foreach':\n\t                                $elem._template = $elem.html();\n\t                                reDraw.call(self, null, matchs, evalScope, $elem, evalScope.$index, dataPath);\n\t                                if (isBindMatch) {\n\t                                    watchList.push({\n\t                                        key: matchs[2],\n\t                                        Func: function (newVal) {\n\t                                            reDraw.call(self, newVal, matchs, evalScope, $elem, evalScope.$index, dataPath);\n\t                                        }\n\t                                    });\n\t                                }\n\t                                break;\n\t                            case 'attr':\n\t                                //todo:attr:{a:'t1', b:'t2'}\n\t                                var attrMatchs = matchs[2].match(/{(\\w.*?):(.*)}/);\n\t                                var _evalResult = myEval(attrMatchs[2], evalScope);\n\t                                $elem.attr(attrMatchs[1], (attrMatchs[1] === 'data-param' || attrMatchs[1] === 'data-remote-check') ? JSON.stringify(_evalResult) : _evalResult);\n\t                                var match2, watchStr;\n\t                                if ((match2 = /^([\\w\\.]+)\\b.*?\\?.*:/.exec(attrMatchs[2])) !== null) {\n\t                                    watchStr = match2[1];\n\t                                }\n\t                                if (isBindMatch) {\n\t                                    watchList.push({\n\t                                        key: matchs[2],\n\t                                        Func: function (newVal) {\n\t                                            $elem.attr(attrMatchs[1], myEval(attrMatchs[2], evalScope));\n\t                                        }\n\t                                    });\n\t                                }\n\t                                break;\n\t                            default:\n\t                                if (isEventName(matchs[1])) {\n\t                                    _bindEvent($elem, matchs, $index, myEval, evalScope, data);\n\t                                }\n\t                                break;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                // console.log('%c%s', 'color:green', self);\n\t                try {\n\t                    watch.call(self, watchList, data, self.viewModel);\n\t                } catch (ex) {\n\t                }\n\t            }\n\t            //dataAttrNames.forEach(function (e) {\n\t            //  $elem.removeAttr(e);\n\t            //});\n\t\n\t        }\n\t\n\t        for (var _i = 0; _i < bindElementsArray.length; _i++) {\n\t            // if($(bindElementsArray[_i]).closest('[data-bind^=\"((\"]').length !== 0 && $(bindElementsArray[_i]).closest('[data-bind^=\"((\"]')[0] !== bindElementsArray[_i]){\n\t            forEachBindElements.call(self, _i, bindElementsArray[_i], parentData, $parentIndex);\n\t            // }\n\t        }\n\t\n\t        dataPath.pop();\n\t\n\t        return segment.hasClass('segment-wrapper') ? segment.children() : segment;\n\t\n\t        function elemIsInForeach($elem, $excludeElement) {\n\t            var result = false;\n\t            $excludeElement.each(function (index, elem) {\n\t                if (elem === $elem[0]) {\n\t                    result = true;\n\t                }\n\t            });\n\t            return result;\n\t        }\n\t\n\t        function parentsHasProperty(element, proName, proValue) {\n\t            var parent = element.parent();\n\t            var _proName = proName;\n\t            var reg = new RegExp('\\\\b' + proValue + '\\\\b');\n\t            var isHas = false;\n\t            element.parents().each(function () {\n\t                var proName = $(this).attr(_proName);\n\t                if (typeof proName !== 'undefined' && reg.test(proValue)) {\n\t                    isHas = true;\n\t                }\n\t            });\n\t            return isHas;\n\t        }\n\t\n\t        function watch(watchList, obj, modelRoot) {\n\t            var self = this;\n\t            for (var i = 0, item, arr = []; i < watchList.length; i++) {\n\t                item = watchList[i];\n\t                item.Func = [item.Func];\n\t                for (var n = 0, item2, isRepeat = false; n < arr.length; n++) {\n\t                    item2 = arr[n];\n\t                    if (item.key === item2.key) {\n\t                        item2.Func = item2.Func.concat(item.Func);\n\t                        isRepeat = true;\n\t                    }\n\t                }\n\t                !isRepeat && arr.push(item);\n\t            }\n\t            watchList = arr;\n\t            watchList.forEach(function (item) {\n\t                var watchStr = item.key, value, watchHandler, watchObj, match;\n\t                var defaultSetFunc = function (newVal) {\n\t                    var oldVal = value;\n\t                    value = newVal;\n\t                    if (watchHandler instanceof Array) {\n\t                        watchHandler.forEach(function (handler) {\n\t                            handler.call(self, newVal, oldVal);\n\t                        });\n\t                    } else {\n\t                        watchHandler.call(self, newVal, oldVal);\n\t                    }\n\t                };\n\t                if ((match = /self.viewModel.(.*)/.exec(watchStr))) {\n\t                    watchObj = modelRoot;\n\t                    watchStr = match[1];\n\t                } else {\n\t                    watchObj = obj;\n\t                }\n\t                if (/\\./.test(watchStr)) {\n\t                    var splitter = watchStr.split(/\\./);\n\t                    watchStr = splitter.pop();\n\t                    watchObj = myEval(splitter.join('.'), watchObj)\n\t                }\n\t                if (/\\{#([^{}]+)\\}/.test(watchStr)) {\n\t                    watchStr = /\\{#([^{}]+)\\}/.exec(watchStr)[1];\n\t                }\n\t                value = watchObj[watchStr];\n\t                (function (scope) {\n\t                    watchHandler = typeof item.Func !== 'string' ? item.Func : eval(item.Func);\n\t                })(obj);\n\t\n\t                Object.defineProperty(watchObj, watchStr, {\n\t                    get: function () {\n\t                        return value;\n\t                    },\n\t                    set: defaultSetFunc\n\t                });\n\t            });\n\t        }\n\t\n\t    }\n\t\n\t    /**\n\t     * 组件基类\n\t     * @param dataModel{object}[optional] 视图层的数据模型\n\t     * @param template{string}[required] html模板字符串\n\t     * @param container{string}[optional] 指定渲染的容器\n\t     * @param onEmpty{fuction}[optional] 当空数据的时候\n\t     * @param type{string}[optional] 加到页面里的方法\n\t     * */\n\t    function Component(dataModel, template, templateCompile, container, type) {\n\t        var segment;\n\t        var container = $(container || '#widgetContainer');\n\t        this.init = function () {\n\t            this.viewModel = dataModel;\n\t            this.compile = templateCompile;\n\t            segment = this.compile($(template), this.viewModel);\n\t            container.css('zIndex', 9999999);\n\t        };\n\t        this.destroy = function () {\n\t            segment.fadeOut(100);\n\t            setTimeout(function () {\n\t                segment.remove();\n\t            }, 100);\n\t            container.css('zIndex', -9);\n\t        };\n\t        this.init();\n\t        // segment.css('display', 'none');\n\t        if (type === 'append') {//如果append方式就添加进页面否则就替换原有的内容\n\t            container.append(segment);\n\t            segment.fadeIn(200);\n\t        } else {\n\t            container.html(segment);\n\t            segment.fadeIn(200);\n\t        }\n\t\n\t    }\n\t\n\t    /**\n\t     * 创建自定义组件的方法\n\t     * @param componentName{string}[required]组件的名称\n\t     * @param cfg{string}[required] 配置\n\t     * */\n\t    function createComponent(componentName, cfg) {\n\t        var componentTagElement = $('#component' + componentName.replace(/^(.)/, function (m1, m2) {\n\t                return m2.toUpperCase();\n\t            }));\n\t\n\t        var template;\n\t        if (componentTagElement.length > 0) {\n\t            if (cfg.templateSelector) {\n\t                template = $(cfg.templateSelector).html();\n\t            } else {\n\t                template = componentElement.html().match(/<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>/m)[1].trim()\n\t            }\n\t        } else {\n\t            template = xTemplate[componentName];\n\t        }\n\t        return new Component(cfg.viewModel, template, templateCompile, cfg.container, cfg.type);\n\t    }\n\t\n\t//表单字段验证器\n\t    var _validator = {\n\t        hasBindSubmit: false,\n\t        submitHandler: function (event) {\n\t            var target = event.target;\n\t            var pageElement = $(target).closest('section[class*=\"page-\"]');\n\t            var hasError = false;\n\t            var formElement = $(pageElement.find('form'));\n\t            var action = formElement.attr('action');\n\t            var callback = formElement.attr('data-callback');\n\t            var checkArray = [];\n\t            var hasScroll = false;\n\t            formElement.find('[data-rule]').filter(function () {\n\t                return $(this).attr('questioncheck') || utils.visible(this);\n\t            }).each(function (i, e) {\n\t                var name = $(this).attr('name');\n\t                if ($(this).attr('questioncheck')) {\n\t                    name = $(this).attr('id').replace('_temp', '');\n\t                    var inputElements = pageElement.find('[name=' + name + ']');\n\t                    var questionElement = inputElements.eq(0).closest('.question');\n\t                    if (utils.visible(questionElement) && _validator.checkHasChecked(inputElements) === 0) {\n\t                        pageManager.showTooltip('请选择:' + (questionElement.find('.question-title').text() || questionElement.find('.title').text()), 'error');\n\t                        questionElement.attr('haserror', 'true');\n\t                        if (!hasScroll) {\n\t                            setTimeout(function () {\n\t                                $('.question').each(function (i, e) {\n\t                                    var $this = $(e);\n\t                                    var errorInput = $this.find('.error-input');\n\t                                    var errorCheckBox = $this.attr('haserror');\n\t                                    var page = $this.closest('.page');\n\t                                    if ((errorInput.length > 0 || errorCheckBox) && !hasScroll) {\n\t                                        console.log(this);\n\t                                        this.scrollIntoView();\n\t                                        hasScroll = true;\n\t                                        page[0].scrollTop -= 50;\n\t                                    }\n\t                                });\n\t                            }, 0);\n\t                        }\n\t                    } else {\n\t                        questionElement.removeAttr('haserror');\n\t                    }\n\t                    return;\n\t                }\n\t                checkArray.push(_validator.checkRule.call(this));\n\t            });\n\t            if ($(target).attr('onclick') && $(target).attr('onclick').indexOf('confirmSubmit') !== -1) {\n\t                return false;\n\t            }\n\t            function postData() {\n\t                _validator.removeAllErrorIcon();\n\t                pageManager.ajaxManager({\n\t                    url: action,\n\t                    form: formElement,\n\t                    success: function (res) {\n\t                        if (!_validator.responseHandler(res)) {\n\t                            if (callback) {\n\t                                location.hash = callback.replace('#', '') + 'v=' + Math.random();\n\t                            }\n\t                        }\n\t                    },\n\t                    fail: function () {\n\t                        pageManager.showTooltip('数据连接超时或异常', 'error');\n\t                    }\n\t                })();\n\t            }\n\t\n\t            $.when.apply($, checkArray).done(function () {\n\t                var args = Array.prototype.slice.call(arguments);\n\t                args.forEach(function (res) {\n\t                    if (res._error) {\n\t                        hasError = true;\n\t                    }\n\t                });\n\t                if (!hasError) {\n\t                    postData();\n\t                }\n\t            }).fail(function (ex) {\n\t                console.warn(ex);\n\t            }).always(function (res) {\n\t                console.log(res);\n\t            });\n\t            _validator.hasBindSubmit = true;\n\t            event.preventDefault();\n\t            event.stopPropagation();\n\t            return false;\n\t        },\n\t        init: function (formSelector) {\n\t            $(formSelector || 'form').find('[data-rule]').each(function (i, e) {\n\t                var oldBlur = this.onblur;\n\t                var elem = this;\n\t                var onblurHandler = function (e) {\n\t                    $.when(_validator.checkRule.call(this, e)).then(\n\t                        function (res) {//没错误时\n\t                            oldBlur && oldBlur.call(elem, e);\n\t                        },\n\t                        function (msg) {//有错误时\n\t                            console.warn(msg);\n\t                        }\n\t                    );\n\t                };\n\t                this.onblur = onblurHandler;\n\t                var timer;\n\t                this.onkeyup = function (event) {\n\t                    var elem = this;\n\t                    clearTimeout(timer);\n\t                    timer = setTimeout(function () {\n\t                        $.when(_validator.checkRule.call(elem, e)).then(\n\t                            function (res) {//没错误时\n\t                                $(elem).closest('.weui-cell').removeClass('weui-cell_warn');\n\t                            },\n\t                            function (msg) {//有错误时\n\t                                console.warn(msg);\n\t                            }\n\t                        );\n\t                        ;\n\t                    }, 2000);\n\t                };\n\t            });\n\t        },\n\t        initForQuestionnaire: function (page) {\n\t            var checkboxNames = {}, radioNames = {};\n\t            var pages = 'BSP-birthed,BSP-food,BSP-sleep,BSP-smoking,BSP-sport,BSP-tzbs,BSP-wine,';\n\t            if (pages.indexOf(page + ',') === -1) {\n\t                return;\n\t            }\n\t            var pageName = '.page-' + utils.getInfoFromURL().hash;\n\t            //文本框添加标记\n\t            $(pageName).find('input[type=text]').filter(function () {\n\t                return !($(this).siblings().find('[type=checkbox]').length > 1);\n\t            }).attr('data-rule', 'noEmpty');\n\t            //复选框添加标记\n\t            $(pageName).find('input[type=checkbox]').each(function (i, e) {\n\t                checkboxNames[$(e).attr('name')] = 1;\n\t            });\n\t            for (var name1 in checkboxNames) {\n\t                $(pageName).find('[name=' + name1 + ']').after('<input type=\"hidden\" id=\"' + name1 + '_temp\" data-rule=\"noEmpty\" questioncheck=\"true\">');\n\t            }\n\t            //单选框添加标记\n\t            $(pageName).find('input[type=radio]').each(function (i, e) {\n\t                radioNames[$(e).attr('name')] = 1;\n\t            });\n\t            for (var name2 in radioNames) {\n\t                $(pageName).find('[name=' + name2 + ']').last().after('<input type=\"hidden\" id=\"' + name2 + '_temp\" data-rule=\"noEmpty\" questioncheck=\"true\">');\n\t            }\n\t            $(pageName).find('.weui-btn_primary').addClass('submit');\n\t            _validator.init(pageName + ' form');\n\t        },\n\t        checkHasChecked: function (inputElements) {\n\t            var num = 0;\n\t            inputElements.each(function (i, e) {\n\t                if (e.checked) {\n\t                    num += 1;\n\t                }\n\t            });\n\t            return num;\n\t        },\n\t        responseHandler: function (res) {\n\t            if (res.code != 0) {\n\t                _validator.addErrorMsg.call(this, res.message);\n\t                console.log('%c%s', 'color:orange', 'error');\n\t                return res.message;\n\t            } else {\n\t                console.log('%c%s', 'color:green', 'success');\n\t                return false;\n\t            }\n\t        }\n\t        ,\n\t        checkRule: function () {\n\t            var deferred = $.Deferred();\n\t            var targetElement = this;\n\t            var msg = _validator.getError.call(this);\n\t            var remoteCheck = $(this).attr('data-remoteCheck');\n\t            var paramData = $(this).attr('data-param');\n\t            if (msg) {//前端校验\n\t                if (msg === '输入不能为空') {\n\t                    try {\n\t                        var title = $(this).closest('.question').find('.title');\n\t                        msg = (title.text() || $(this).closest('.question').find('.question-title').text()) + '--' + msg;\n\t                    } catch (ex) {\n\t                    }\n\t                }\n\t                _validator.addErrorMsg.call(this, msg);\n\t                deferred.reject({_error: msg});\n\t                return deferred.promise();\n\t            } else {//后端校验\n\t                paramData = paramData ? JSON.parse(paramData) : {};\n\t                remoteCheck = remoteCheck ? JSON.parse(remoteCheck) : {};\n\t                if (remoteCheck.url) {\n\t                    var _paramData = {};\n\t                    if (remoteCheck.params) {\n\t                        remoteCheck.params.forEach(function (v) {\n\t                            _paramData[v] = null;\n\t                        });\n\t                    }\n\t                    _paramData[$(this).attr('name')] = $(this).val();\n\t                    window.pageManager.ajaxManager({\n\t                        url: remoteCheck.url,\n\t                        type: 'post',\n\t                        data: $.extend({}, _paramData, paramData),\n\t                        success: function (res) {\n\t                            var msg = _validator.responseHandler.call(targetElement, res);\n\t                            if (msg) {\n\t                                deferred.reject({_error: msg});\n\t                            } else {\n\t                                _validator.removeErrorMsg.call(targetElement);\n\t                                deferred.resolve({_noError: true});\n\t                            }\n\t                        },\n\t                        fail: function (ex) {\n\t                            deferred.reject({_error: ex});\n\t                            console.log(ex);\n\t                        }\n\t                    })();\n\t                } else {\n\t                    _validator.removeErrorMsg.call(this);\n\t                    deferred.resolve({_noError: true});\n\t                }\n\t            }\n\t            return deferred.promise();\n\t        }\n\t        ,\n\t        getError: function () {\n\t            var element = this;\n\t            var formElement = $(this).closest('.weui-cells_form');\n\t            var rules = {\n\t                mobile: {\n\t                    reg: '(\\\\+86)\\?1[3,5,6,7,8]\\\\d{9}',\n\t                    errorMsg: '手机号格式不正确'\n\t                },\n\t                number: {\n\t                    reg: '\\\\d+',\n\t                    errorMsg: '请输入正确的数字'\n\t                },\n\t                verification: {\n\t                    reg: '\\\\d{6}',\n\t                    errorMsg: '请输入正确的验证码'\n\t                },\n\t                idCard: {\n\t                    reg: '[0-9a-zA-Z]{15,20}',\n\t                    errorMsg: '您输入的身份证号有误，请核对后再次输入'\n\t                },\n\t                noEmpty: {\n\t                    reg: '\\\\S+',\n\t                    errorMsg: '输入不能为空'\n\t                },\n\t                streetDetail: {\n\t                    reg: '\\\\S+',\n\t                    errorMsg: '详细地址不能为空'\n\t                },\n\t                birthday: {\n\t                    reg: '\\\\S+',\n\t                    errorMsg: '出生日期不能为空'\n\t                },\n\t                password: {\n\t                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{8,}',\n\t                    errorMsg: '密码格式不正确，输入英文大小写字母，数字，特殊符号均可，至少8位'\n\t                },\n\t                verifyPassword: [{\n\t                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{8,}',\n\t                    errorMsg: '密码格式不正确，输入英文大小写字母，数字，特殊符号均可，至少8位'\n\t                }, {\n\t                    expression: '\"{#confirmPassword}\" === \"{#password}\" || \"{#confirmPassword}\" === \"{#newPassword}\"',\n\t                    errorMsg: '两次输入的密码不一致'\n\t                }],\n\t                name: {\n\t                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{2,10}',\n\t                    errorMsg: '请输入2-10个字的名字'\n\t                }\n\t            };\n\t            var thisRule = rules[$(this).attr('data-rule')];\n\t            var regFromAttr = $(this).attr('pattern');\n\t            if (thisRule) {\n\t                if (!(thisRule instanceof Array)) {\n\t                    thisRule = [thisRule];\n\t                }\n\t                for (var i = 0, _rule, regStr; i < thisRule.length; i++) {\n\t                    _rule = thisRule[i];\n\t                    if (_rule.reg) {\n\t                        regStr = _rule.reg || regFromAttr;\n\t                        var reg = new RegExp('^' + regStr + '$');\n\t                        if (!reg.test($(this).val())) {\n\t                            return _rule.errorMsg || '请输入正确的' + $(this).attr('title');\n\t                        }\n\t                    }\n\t                    if (_rule.expression) {\n\t                        _rule.expression = _rule.expression.replace(/{#([^{}]+)}/g, function (m1, m2) {\n\t                            return formElement.find('[name=\"' + m2 + '\"]').val() || '';\n\t                        });\n\t                        var _result;\n\t                        try {\n\t                            _result = eval(_rule.expression);\n\t                        } catch (ex) {\n\t                            console.log('_result', ex);\n\t                            _result = false;\n\t                        }\n\t                        if (!_result) {\n\t                            return _rule.errorMsg || '请输入正确的' + $(this).attr('title');\n\t                        }\n\t\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        ,\n\t        removeAllErrorIcon: function () {\n\t            $('.weui-cell_warn').removeClass('weui-cell_warn');\n\t        }\n\t        ,\n\t        removeErrorMsg: function () {\n\t            var $this = $(this);\n\t            var cellElement = $this.closest('.weui-cell');\n\t            if (cellElement.length === 0) {\n\t                var hasError = $this.hasClass('error-input');\n\t                if ($this.attr('placeholder') === '不能为空') {\n\t                    $this.attr('placeholder', '');\n\t                }\n\t                if (hasError) {\n\t                    $this.removeClass('error-input');\n\t                }\n\t                if (typeof $this.attr('data-rule') !== 'undefined' && $this.val().trim() === '') {\n\t                    $this.attr('placeholder', '不能为空');\n\t                    $this.addClass('error-input');\n\t                }\n\t            } else {\n\t                cellElement.removeClass('weui-cell_warn');\n\t            }\n\t        }\n\t        ,\n\t        addErrorMsg: function (msg) {\n\t            var $this = $(this);\n\t            var cellElement = $this.closest('.weui-cell');\n\t            if (cellElement.length === 0) {\n\t                if (typeof $this.attr('data-rule') !== 'undefined' && $this.val().trim() === '') {\n\t                    $this.attr('placeholder', '不能为空');\n\t                    $this.addClass('error-input');\n\t                }\n\t            } else {\n\t                cellElement.addClass('weui-cell_warn');\n\t            }\n\t            pageManager.showTooltip(msg);\n\t        }\n\t    };\n\t\n\t    var utils = {\n\t        visible: function (elem) {\n\t            elem = $(elem)\n\t            return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\"\n\t        },\n\t        paramToString: function (obj) {\n\t            var strArr = [];\n\t            for (var name in obj) {\n\t                strArr.push(name + '=' + obj[name]);\n\t            }\n\t            return strArr.join('&');\n\t        },\n\t        getDeviceInfo: function () {\n\t            var userAgent = navigator.userAgent;\n\t            return {\n\t                isIphone: /[Ii][Pp]hone/.test(userAgent),\n\t                isAndroid: /[Aa]ndroid/.test(userAgent)\n\t            };\n\t        },\n\t        getInfoFromURL: function (url) {\n\t            var host, hash, paramObj = {}, paramStr = '', paramArr = [], paramObj = {}, match1, match2, match3;\n\t            url = url || location.href;\n\t            match1 = /(((?:http|https):\\/\\/[^\\/]+)(?:.*?)\\/).*?(#?.*)$/.exec(url);\n\t            //临时增加的\n\t            var path = match1[1];\n\t            host = match1[2];\n\t            if (match1[3]) {\n\t                match2 = /(?:\\?([^#]*))?#([^\\?]*)(?:\\?(.*))?/.exec(match1[3]);\n\t                if (match2) {\n\t                    hash = match2[2];\n\t                    paramStr = (match2[1] || '') + (match2[3] ? (match2[1] ? '&' : '') + match2[3] : '');\n\t                } else {\n\t                    match3 = /(?:\\?([^#]*))?/.exec(match1[3]);\n\t                    paramStr = match3[1];\n\t                }\n\t                if (paramStr) {\n\t                    paramArr = paramStr.split('&');\n\t                    if (paramArr && paramArr.length > 0) {\n\t                        paramArr.forEach(function (v) {\n\t                            var d = v.split('=');\n\t                            var key = d[0];\n\t                            var value = d[1];\n\t                            // console.log(decodeURI(value));\n\t                            paramObj[key] = decodeURI(value);\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t            return {\n\t                host: host + '/',\n\t                hash: hash,\n\t                path: path,\n\t                param: paramObj\n\t            };\n\t        },\n\t        /**获得编译后的页面片段*/\n\t        getPageSegment: function (cfg) {\n\t            return templateCompile.call(cfg, $(cfg.template), cfg.viewModel)\n\t        }\n\t    };\n\t\n\t//监听其它点击事件\n\t    function onClickContainer(event) {\n\t        var target = $(event.target);\n\t        var component = target.closest('[data-component]');\n\t        var router = target.closest('.js-router');\n\t        var submitButton = target.closest('.submit');\n\t        var tagName = target[0].tagName.toUpperCase();\n\t        if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n\t            target[0].focus();\n\t        }\n\t        if (submitButton.length > 0) {\n\t            if (target[0].tagName.toUpperCase() === 'EM') {\n\t                target[0].onclick();\n\t            } else {\n\t                _validator.submitHandler(event);\n\t            }\n\t        }\n\t        //点击router\n\t        if (router.length > 0) {\n\t            router = router.data('router');\n\t            window.pageManager.go(router);\n\t        }\n\t        //点击自定义组件\n\t        if (component.length > 0) {\n\t            var componentCfg = component.data('component');\n\t            var componentName = componentCfg;\n\t            if (componentCfg.toString() === '[object Object]') {\n\t                componentName = componentCfg.name;\n\t            }\n\t            switch (componentName.replace('yy-', '')) {\n\t                case 'select':\n\t                    if (target[0].tagName.toUpperCase() !== 'EM' || componentCfg.disabled) {\n\t                        return false;\n\t                    }\n\t                    var optionData = [];\n\t                    var hideFirst = componentCfg.hideFirst;\n\t                    component.find('select').find('option').each(function (i, e) {\n\t                        if (i === 0 && (hideFirst || $(e).attr('hidden') == 'true' || /选择/.test($(e).text()))) {\n\t                            return;\n\t                        }\n\t                        optionData.push({\n\t                            value: $(e).attr('value'),\n\t                            checked: e.selected,\n\t                            name: $(e).text()\n\t                        });\n\t                    });\n\t                    var IdNum = parseInt(Math.random() * 1000000, 10);\n\t                    var newSelectId = 'select' + IdNum;\n\t                    component.find('select').attr('data-widgetID', newSelectId);\n\t                    var dialogCfg = {\n\t                        type: 'append',\n\t                        viewModel: {\n\t                            id: 'dialog' + IdNum,\n\t                            isShowTitle: false,\n\t                            isShowFooter: false,\n\t                            title: '标题',\n\t                            content: '',\n\t                            primaryText: '是',\n\t                            onClickPrimaryText: function (event, data) {\n\t                            },\n\t                            defaultText: '否',\n\t                            onClickDefault: function (event, data) {\n\t                            },\n\t                            onClickMask: function (event, data) {\n\t                                setSelectData();\n\t                            }\n\t                        }\n\t                    };\n\t\n\t                function setSelectData() {\n\t                    var value;\n\t                    var elementId = '[data-widgetID=\"' + newSelectId + '\"]';\n\t                    $('.component-select').find('input').each(function (i, e) {\n\t                        if (e.checked) {\n\t                            value = e.value;\n\t                        }\n\t                    });\n\t                    $(elementId).val(value);\n\t                    $(elementId).trigger('change');\n\t                    $(elementId).children().each(function (i, e) {\n\t                        if (e.value === value) {\n\t                            $(e).trigger('click');\n\t                        }\n\t                    });\n\t                    setTimeout(function () {\n\t                        $('#widgetContainer')[0].onclick = null;\n\t                        dialogComponent.destroy();\n\t                    }, 0);\n\t                }\n\t\n\t                    var dialogComponent = createComponent('dialog', dialogCfg);\n\t                    var selectCfg = {\n\t                        container: '#dialog' + IdNum + ' .weui-dialog__bd',\n\t                        type: 'html',\n\t                        viewModel: {\n\t                            onSelected: function (event, data, index) {\n\t                                var target = $(event.target);\n\t                                var item = target.closest('.weui-check__label');\n\t                                $(item).siblings().find('input').each(function (i, e) {\n\t                                    e.checked = false;\n\t                                });\n\t                                item.find('input')[0].checked = true;\n\t                                setSelectData();\n\t                                return false;\n\t                            },\n\t                            options: optionData //下拉选项的值和选中所组成的数组\n\t                        }\n\t                    };\n\t                    createComponent('select', selectCfg);\n\t                    $('[checked=false]').removeAttr('checked');\n\t                    break;\n\t\n\t            }\n\t            return false;\n\t        }\n\t    }\n\t\n\t    //异步获取静态资源\n\t    function getPromise(file, dataType) {\n\t        var deffered = new $.Deferred();\n\t        $.ajax({\n\t            url: file,\n\t            type: 'get',\n\t            dataType: dataType,\n\t            success: function (res) {\n\t                var result = res;\n\t                if (dataType === 'html') {\n\t                    if (/html segment/.test(res)) {\n\t                        result = res.match(/html segment begin -->(.*?)<!-- html segment end/)[1];\n\t                    }\n\t                }\n\t                deffered.resolve(result);\n\t            }\n\t        });\n\t        return deffered.promise();\n\t    }\n\t\n\t    //添加form表单ajax提交的参数方法\n\t    $.fn.serializeObject = function () {\n\t        var obj = {};\n\t        var array = this.serializeArray();\n\t        array.forEach(function (v) {\n\t            obj[v.name] = v.value;\n\t        });\n\t        this.find('input[type=\"checkbox\"]').each(function (i, e) {\n\t            var name = $(this).attr('name');\n\t            var checkbox = obj[name];\n\t            if (!(checkbox instanceof Array)) {\n\t                obj[name] = [];\n\t            }\n\t            if (this.checked) {\n\t                obj[name].push($(this).val());\n\t            }\n\t        });\n\t        return obj;\n\t    };\n\t\n\t    module.exports = {\n\t        templateCompile: templateCompile,\n\t        Component: Component,\n\t        validator: _validator,\n\t        utils: utils,\n\t        onClickContainer: onClickContainer,\n\t        getPromise: getPromise,\n\t        createComponent: createComponent,\n\t        changeTitle: function (title) {\n\t            document.title = title;\n\t            var $iframe = $('<iframe  frameborder=\"0\" src=\"blank.html\" style=\"display: none;\"></iframe>');\n\t            $iframe[0].onload = function () {\n\t                setTimeout(function () {\n\t                    try {\n\t                        $iframe[0] && ($iframe[0].onload = null);\n\t                        $iframe[0].remove();\n\t                    } catch (ex) {\n\t                    }\n\t                }, 100);\n\t            };\n\t            $iframe.appendTo($('body'));\n\t        }\n\t    };\n\t    \n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, require) {\n\n\t\n\t    \n\t    var common = require(1);\n\t    var hostIndex = -1;\n\t    var hostList = ['localhost:8080', '192.168.1.118:8089', '192.168.1.104:3000', '192.168.1.116:80', '192.168.1.117', '192.168.1.118', '192.168.1.119'];\n\t    function switchHost(index) {\n\t        return hostList[index];\n\t    }\n\t\n\t    module.exports = {\n\t        api: {},\n\t        switchHost: switchHost,\n\t        autoSwitchHost: function () {\n\t            if (hostIndex++ === 3) {\n\t                hostIndex = 0;\n\t            }\n\t            return switchHost[hostIndex];\n\t        }\n\t    };\n\t    \n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, require) {\n\n\t\n\t    \n\t    var common = require(1);\n\t    var restAPI = require(2);\n\t    var utils = common.utils;\n\t    var infoFromURL = utils.getInfoFromURL(location.href);\n\t    window.pathUrl = infoFromURL.path;\n\t    var myRequire = window.requirejs || function (requireArr, callback) {\n\t            requireArr.forEach(function (v) {\n\t                console.log(v);\n\t                var scriptName = v.match(/\\/([^\\/]+)$/)[1] + '.js';\n\t                var oldScript = getOldScript(scriptName);\n\t\n\t                function getOldScript(scriptName) {\n\t                    var exist = false;\n\t                    $('script').each(function (i, e) {\n\t                        var $e = $(e);\n\t                        var src = $e.attr('src');\n\t                        if (src.indexOf(scriptName) >= 0) {\n\t                            exist = $e;\n\t                            return false;\n\t                        }\n\t                    });\n\t                    return exist;\n\t                }\n\t\n\t                if (oldScript) {\n\t                    oldScript.remove();\n\t                }\n\t                var newScript = document.createElement('script');\n\t                newScript.src = './app/js/' + scriptName;\n\t                newScript.type = 'text/javascript'\n\t                document.body.appendChild(newScript);\n\t            });\n\t            callback && callback()\n\t        };\n\t    var pageManager = {\n\t        pageRecorder: [],\n\t        $container: $('#container'),\n\t        _pageStack: [],\n\t        _defaultPage: null,\n\t        _pageIndex: 1,\n\t        setDefault: function (defaultPage) {\n\t            this._defaultPage = defaultPage || 'home';\n\t            return this;\n\t        },\n\t        reloadPage: function () {\n\t            var reg = /code=(.*?)(?=&|$|#)/;\n\t            var href = location.href;\n\t            if (reg.test(href)) {\n\t                location.href = location.href.replace(reg, 'wxId=123');\n\t            } else {\n\t                location.reload();\n\t            }\n\t        },\n\t        setRefreshPage: function (page) {\n\t            //添加下拉刷新的行为。\n\t            var startX, endX, startY, endY, isArrivedTop = false;\n\t            var _timer_ = null;\n\t            var _interval = null;\n\t            var onTouchstart = function (event) {\n\t                var originalEvent = event;\n\t                try {\n\t                    startY = originalEvent.touches[0].clientY;\n\t                    startX = originalEvent.touches[0].clientX;\n\t                    // $('<p>'+document.body.scrollTop+'</p>').insertBefore('body');\n\t                    if (!isArrivedTop && document.body.scrollTop === 0) {\n\t                        isArrivedTop = true;\n\t                    }\n\t                } catch (ex) {\n\t                }\n\t            };\n\t            var onTouchmove = function (event) {\n\t                var originalEvent = event;\n\t                endY = originalEvent.changedTouches[0].clientY;\n\t                endX = originalEvent.changedTouches[0].clientX;\n\t\n\t                if (!isArrivedTop && document.body.scrollTop === 0) {\n\t                    isArrivedTop = true;\n\t                }\n\t                if (endY - startY > 20) {\n\t                    $('.refresh-icon').attr('style', 'transform: rotate(3600deg);transition-duration: 5s; transition-delay: 0s; visibility: visible;');\n\t\n\t//         clearInterval(_interval);\n\t//         _interval = setInterval(function(){\n\t\n\t//           _num++;\n\t//         }, 200);\n\t                }\n\t                clearTimeout(_timer_);\n\t                _timer_ = setTimeout(function () {\n\t                    // $('<p style=\"color:red\">'+document.body.scrollTop+'<br>'+endY+'<br>'+startY+'<br>'+isArrivedTop+'</p>').insertBefore('body');\n\t                    if (endY - startY > 30 && isArrivedTop) {\n\t                        window.location.href = window.location.href + '?v=' + Math.random();\n\t                    }\n\t                    $('.refresh-icon').css('visibility', 'hidden');\n\t                }, 1000);\n\t            };\n\t            var onTouchend = function (event) {\n\t                $('.refresh-icon').css('visibility', 'hidden');\n\t            };\n\t            if (page === 'home') {\n\t                document.ontouchstart = onTouchstart;\n\t                document.ontouchmove = onTouchmove;\n\t                document.ontouchend = onTouchend;\n\t            } else {\n\t                document.ontouchstart = null;\n\t                document.ontouchmove = null;\n\t                document.ontouchend = null;\n\t            }\n\t        },\n\t        setPageAppend: function (pageAppend) {\n\t            this._pageAppend = pageAppend;\n\t            return this;\n\t        },\n\t        beforeInit: function () {\n\t        },\n\t        init: function () {\n\t            var self = this;\n\t\n\t            if (history.state && history.state._pageIndex) {\n\t                this._pageIndex = history.state._pageIndex;\n\t            }\n\t\n\t            this._pageIndex--;\n\t\n\t            var page = utils.getInfoFromURL().hash || self._defaultPage;\n\t            self._go(page);\n\t            return this;\n\t        },\n\t        showTooltip: function (msg, type) {\n\t            type = type || 'error';\n\t            var $tooltips = $('.js_tooltips');\n\t            var showType = 'wait';\n\t            if (type === 'error') {\n\t                $tooltips.removeClass('weui-toptips_success');\n\t                $tooltips.addClass('weui-toptips_error');\n\t            }\n\t            if (type === 'success') {\n\t                $tooltips.removeClass('weui-toptips_error');\n\t                $tooltips.addClass('weui-toptips_success');\n\t            }\n\t            if ($tooltips.css('display') != 'none') return;\n\t            // toptips的fixed, 如果有`animation`, `position: fixed`不生效\n\t            $('.page.cell').removeClass('slideIn');\n\t            if (showType === 'wait' && $tooltips.css('display') === 'none') {\n\t                $tooltips.text(msg);\n\t                $tooltips.css('display', 'block');\n\t                setTimeout(function () {\n\t                    $tooltips.css('display', 'none');\n\t                }, 6000);\n\t            }\n\t        },\n\t\n\t        requestBackend: function (cfg) {\n\t            pageManager.ajaxManager({\n\t                //hostIndex: 2,\n\t                url: cfg.url,\n\t                data: cfg.param || {},\n\t                type: cfg.type || 'post',\n\t                success: function (res) {\n\t                    if (res.code != 0) {\n\t                        pageManager.showTooltip(res.message);\n\t                    } else {\n\t                        cfg.success(res.data);\n\t                    }\n\t                },\n\t                fail: function (ex) {\n\t                    pageManager.showTooltip('服务器错误,' + ex.responseText, 'error');\n\t                    cfg.fail && cfg.fail(ex);\n\t                }\n\t            });\n\t        },\n\t        ajaxManager: function (cfg) {\n\t            var self = this;\n\t            var host = restAPI.switchHost(cfg.hostIndex || 0);\n\t\n\t            function getSendData(data) {\n\t                var result = null;\n\t                var formElement = cfg.form ? $(cfg.form) : $('#container').children().last().find('form');\n\t                if (data) {\n\t                    if (Object.prototype.toString.call(data) === '[object Object]') {\n\t                        result = $.extend({}, {wxId: window.WXID}, cfg.data);\n\t                    } else if (typeof data === 'string') {\n\t                        result = data;\n\t                    }\n\t                } else {\n\t                    if (formElement.length !== 0) {\n\t                        result = $.extend({}, {wxId: window.WXID}, formElement.serializeObject());\n\t                    } else {\n\t                        result = $.extend({}, {wxId: window.WXID});\n\t                    }\n\t                }\n\t                return result;\n\t            }\n\t\n\t            function getSuccessHandler(cfg) {\n\t                var fn;\n\t                if (cfg.success) {\n\t                    fn = cfg.success;\n\t                } else if (cfg.successResult) {\n\t                    fn = cfg.successResult;\n\t                } else {\n\t                    fn = null;\n\t                }\n\t                return function (res) {\n\t                    if (res.code === 5008 || res.code === 5010 || res.code === 5007 || res.code === 5009) {\n\t                        self.securityVerification(res);\n\t                    } else {\n\t                        fn && fn(res);\n\t                    }\n\t                };\n\t            }\n\t\n\t            function getErrorHandler(cfg) {\n\t                if (cfg.fail) {\n\t                    return function (ex) {\n\t                        if (ex.responseText.match(/^\\s*\\[|{/)) {\n\t                            JSON.parse(ex.responseText);\n\t                        }\n\t                        console.error(ex);\n\t                        cfg.fail(ex);\n\t                    };\n\t                } else {\n\t                    return function (ex) {\n\t                        pageManager.showTooltip('数据请求超时或者异常！请重试！');\n\t                        console.error(ex)\n\t                    };\n\t                }\n\t            }\n\t\n\t            $.ajax({\n\t                url: /http|https/.test(cfg.url) ? cfg.url : ('http://' + host + '/' + cfg.url || cfg.pathUrl),\n\t                type: cfg.type || 'post',\n\t                data: getSendData(cfg.data),\n\t                dataType: cfg.dataType || 'json',\n\t                success: getSuccessHandler(cfg),\n\t                error: getErrorHandler(cfg)\n\t            });\n\t            return this;\n\t        },\n\t        clearPageStack: function (pageName, isContain, notReturn) {\n\t            var self = this;\n\t            var newStack = [];\n\t            var isAll = pageName === 'allPages';\n\t            var containerChildren = $('#container').children('section');\n\t            // 如果只剩一个login则返回\n\t            if (!notReturn &&\n\t                ((containerChildren.length === 1 && containerChildren.eq(0).hasClass('\"' + pageName + '\"')) || (self._pageStack.length === 1 && self._pageStack[0].page === pageName))\n\t            ) {\n\t                return;\n\t            }\n\t            containerChildren.each(function (i, e) {\n\t                var hasClass = $(e).hasClass('page-' + pageName);\n\t                if (isAll || (isContain ? hasClass : !hasClass)) {\n\t                    $(e).remove();\n\t                }\n\t            });\n\t            self._pageStack.forEach(function (e, i) {\n\t                var isEqual = e.page === pageName;\n\t                if (!(isAll || (isContain ? isEqual : !isEqual))) {\n\t                    newStack.push(e);\n\t                }\n\t            });\n\t            self._pageStack = newStack;\n\t        },\n\t        securityVerification: function (res) {\n\t            var self = this;\n\t            self.clearPageStack('login');\n\t            location.hash = 'login';\n\t            var msg = res.message;\n\t            //In addition to exit the other state\n\t            if (res.code != 5009) {\n\t                if (\"\" != msg) {\n\t                    self.showTooltip(msg, 'error');\n\t                }\n\t            }\n\t        },\n\t        getCookie: function (key) {\n\t            var reg = /([^=]*)=([^=]*)(?:;|$)/g;\n\t            var result = document.cookie.match(reg);\n\t            var obj = {};\n\t            if (result) {\n\t                result.forEach(function (v) {\n\t                    var d = reg.exec(v);\n\t                    var key = d[1];\n\t                    var value = d[2];\n\t                    obj[key] = value;\n\t                });\n\t            }\n\t            return obj[key];\n\t        },\n\t        setCookie: function (key, value) {\n\t            document.cookie = key + '=' + value;\n\t        },\n\t        go: function (to) {\n\t            if (!to) {\n\t                return;\n\t            }\n\t            location.hash = to;\n\t        },\n\t        onHashChange: function (event) {\n\t            var state = history.state || {};\n\t            var page = utils.getInfoFromURL().hash || pageManager._defaultPage;\n\t\n\t            function watchURL(oldURL, newURL) {\n\t                console.log('%c%s', 'color:green', newURL);\n\t                var isRefresh = false;\n\t                var resultHref;\n\t                newURL.replace(/(.*?)#(.*?)(v=.*?)(&.*)?$/, function (m0, m1, m2, m3, m4) {\n\t                    if (m3) {\n\t                        isRefresh = true;\n\t                        var reg = /(\\?|&)(v=.*?)(&|$)/;\n\t                        if (reg.test(m1)) {\n\t                            m1 = m1.replace(/(\\?|&)(v=.*?)(&|$)/, function (m0, m1, m2, m3) {\n\t                                return (m1 === '&' ? '' : m1) + m3;\n\t                            });\n\t                        } else {\n\t                            m1 = m1 + (/\\?/.test(m1) ? '' : '?');\n\t                        }\n\t                        var href = m1 + '&' + m3 + '#' + m2 + (m4 ? m4.replace(/^&/, '') : '');\n\t                        href = href.replace('?&', '?');\n\t                        href = href.replace(/(\\?|&)$/, '');\n\t                        resultHref = href;\n\t                    }\n\t                });\n\t                if (typeof resultHref !== 'undefined') {\n\t                    location.href = resultHref;\n\t                }\n\t                return isRefresh;\n\t            }\n\t\n\t            if (watchURL(event.oldURL, (event.newURL || location.href))) {\n\t                return;\n\t            }\n\t            if (pageManager._findInStack(page)) {\n\t                var remanentPagesLength = pageManager._pageStack.length;\n\t                var pagesArr = [], _page;\n\t                while (remanentPagesLength--) {\n\t                    _page = pageManager._pageStack[remanentPagesLength].page;\n\t                    pagesArr.push(_page);\n\t                    if (_page === page) {\n\t                        break;\n\t                    }\n\t                }\n\t                pagesArr.shift();\n\t                for (var i = 0; i < pagesArr.length; i++) {\n\t                    pageManager._back(pagesArr[i]);\n\t                }\n\t            } else {\n\t                pageManager._go(page);\n\t            }\n\t        },\n\t        getPageHtml: function (page, callback, fail) {\n\t            $.ajax({\n\t                url: 'fragment/' + page + '.html?V=' + Math.random(),\n\t                dataType: 'html',\n\t                success: function (html) {\n\t                    callback(html);\n\t                    //添加自定义的选择框ios除外\n\t                    $('.page-' + page).find('select').each(function (i, e) {\n\t                        var selectWrapperElement, componentCfg;\n\t                        selectWrapperElement = $(e).closest('[data-component*=yy-select]');\n\t                        if (selectWrapperElement.length === 0) {\n\t                            $(e).parent().attr('data-component', 'yy-select');\n\t                            selectWrapperElement = $(e).closest('[data-component*=yy-select]');\n\t                        }\n\t                        componentCfg = selectWrapperElement.data('component');\n\t                        $(e).parent().addClass('weui-cell-mask');\n\t                        if (!$(e).prev()[0] || $(e).prev()[0].tagName.toUpperCase() !== 'EM') {\n\t                            $('<em></em>').insertBefore($(e));\n\t                        }\n\t                        if (utils.getDeviceInfo().isIphone) {\n\t                            if (!componentCfg || !componentCfg.disabled) {\n\t                                try {\n\t                                    selectWrapperElement.find('.weui-cell-mask em').remove();\n\t                                } catch (ex) {\n\t                                    console.log(ex)\n\t                                }\n\t                            }\n\t                        }\n\t                    });\n\t\n\t                },\n\t                error: function (ex) {\n\t                    fail(ex)\n\t                    console.log(ex);\n\t                }\n\t            });\n\t        },\n\t        compileHtml: function (html, page) {\n\t            var $html, scripts;\n\t            if (/beforeRenderPage/.test(html)) {\n\t                html = html.replace(/(class=\"page[^\"]+)\"/, '$1 hidden\"');\n\t            }\n\t            $html = $(html);\n\t            scripts = [];\n\t            $html = $html.map(function (i, e) {\n\t                if (e instanceof HTMLScriptElement && $(e).attr('id') && $(e).attr('id').indexOf('pageCfg') !== -1) {\n\t                    var _page = '\".page-' + page + ' .page\"';\n\t                    var scriptSrc = $(e).attr('src');\n\t                    if (scriptSrc) {\n\t                        scripts.push({\n\t                            type: 'src',\n\t                            content: scriptSrc\n\t                        });\n\t                    } else {\n\t                        scripts.push({\n\t                            type: 'string',\n\t                            content: $(e).text()\n\t                        });\n\t                    }\n\t                    function getOtherScriptStr() {\n\t                        var innerScript = $(e).text();\n\t                        var scriptStr = '';\n\t                        var additionalScript = ';\\n pageCfg.template = $(' + _page + ').html()'\n\t                            + ';\\n $(' + _page + ').html(utils.getPageSegment(pageCfg))'\n\t                            + ';\\n (pageCfg.afterRenderPage && pageCfg.afterRenderPage())'\n\t                            + ';\\n _validator.init(\".page-' + page + ' form\")';\n\t                        if (/beforeRenderPage/.test(innerScript)) {\n\t                            scriptStr = '<script>$(function(){'\n\t                                + innerScript\n\t                                + '$.when(pageCfg.beforeRenderPage())'\n\t                                + '.then('\n\t                                + 'function(res){\\n $(' + _page + ').removeClass(\"hidden\");' + additionalScript + '},'\n\t                                + 'function(ex){\\n  setTimeout(function(){pageManager.clearPageStack(\"' + page + '\",true,true);},0);console.log(\"服务器错误\");})'\n\t                                + ';});<\\/script>';\n\t                        } else {\n\t                            scriptStr = '<script>$(function(){'\n\t                                + innerScript\n\t                                + additionalScript\n\t                                + ';\\n });<\\/script>';\n\t                        }\n\t                        return scriptStr;\n\t                    }\n\t\n\t                    return $(getOtherScriptStr())[0];\n\t                } else {\n\t                    return e;\n\t                }\n\t            });\n\t            return $('<section class=\"page-' + page + '\"><\\/section>').append($html);\n\t        },\n\t        loadPage: function (page, callback) {\n\t            var self = this;\n\t\n\t            function isInited(page) {\n\t                var result = false;\n\t                $('script[data-requiremodule]').each(function (i, e) {\n\t                    if (e.src && e.src.indexOf(page + '.js') >= 0) {\n\t                        result = true;\n\t                    }\n\t                });\n\t                return result;\n\t            }\n\t\n\t            if (isInited(page)) {\n\t                location.reload();\n\t            }\n\t            if (page === 'other') {\n\t                myRequire(['../app/js/page-js/other/' + page], callback);\n\t                return;\n\t            }\n\t            myRequire(['../app/js/page-js/' + page], callback);\n\t        },\n\t        initPage: function (html, page, scope, callback) {\n\t            var self = this;\n\t            var pageId = Math.random().toString().replace('0\\.', '');\n\t            var stackItem = {page: page, dom: null, id: pageId};\n\t            self._pageStack.push(stackItem);\n\t            //添加进度图标缓冲视觉\n\t            var toastCfg = {\n\t                type: 'append',\n\t                viewModel: {\n\t                    text: '数据加载中'\n\t                }\n\t            };\n\t            var toastComponent = common.createComponent('toast', toastCfg);\n\t            var $html = $('<section class=\"page-' + page + '\"></section>');\n\t            if (scope) {\n\t                html = utils.getPageSegment({\n\t                    template: html,\n\t                    viewModel: scope\n\t                });\n\t            }\n\t            $html.append(html);\n\t            $html.find('.page').addClass('slideIn').addClass(page);\n\t            $html.find('.page').on('animationend webkitAnimationEnd', function () {\n\t                $html.find('.page').removeClass('slideIn').addClass('js_show');\n\t            });\n\t            var titleContent = $html.find('[name = title]').val();\n\t            common.changeTitle(titleContent);\n\t            $(document).off(\"click\", \"#login\");\n\t            toastComponent.destroy();\n\t            self.$container.append($html);\n\t            stackItem.dom = $html;\n\t            callback && callback($html);\n\t        },\n\t        getFooterText: function (pageName, $html) {\n\t            var htmlWrapper = '<div class=\"page__ft\"><p>{text}</p></div>';\n\t            var num = '400-6506950';\n\t            var textArray = [\n\t                '咨询电话: {num}',\n\t                '如若您对体检数据有异议，请致电{num}咨询',\n\t                '问卷提交后将无法修改，提交前请再次确认。&lt;br&gt;>（若提交后发现信息有误，请联系客服重新填写{num}）'];\n\t            var pageMap = {\n\t                'apply': 0,\n\t                'user-active': 0,\n\t                'home': 0,\n\t                'BSP-tzbs': 2,\n\t                'OGTT-testing': 1,\n\t                'OGTT-testingById': 1,\n\t                'tel-change': 0,\n\t                'tel-changing': 0,\n\t                'Physical-testingresult': 1,\n\t                'Physical-testingresultById': 1\n\t            };\n\t            var text = textArray[pageMap[pageName]];\n\t            if (typeof text !== 'undefined') {\n\t                text = text.replace(/\\{num\\}/g, '<a href=\"tel:' + num + '\"> ' + num + ' </a>');\n\t                var resultHtml = htmlWrapper.replace(/\\{text\\}/g, text);\n\t                $html.find('.page').append(resultHtml);\n\t            }\n\t        },\n\t        _go: function (page) {\n\t            var self = this;\n\t            this._pageIndex++;\n\t            history.replaceState && history.replaceState({_pageIndex: this._pageIndex}, '', location.href);\n\t            self.loadPage(page);\n\t            this.setRefreshPage(page);\n\t            return this;\n\t        },\n\t        back: function () {\n\t            history.back();\n\t        },\n\t        _back: function (page) {\n\t            this._pageIndex--;\n\t            var self = this;\n\t            var stack = this._pageStack.pop();\n\t            if (!stack) {\n\t                return;\n\t            }\n\t\n\t            var found = this._findInStack(utils.getInfoFromURL().hash);\n\t            if (!found) {\n\t                self.loadPage(page);\n\t            } else {\n\t                var titleContent = self._pageStack[(self._pageStack.length - 1)].dom.find('[name = title]').val();\n\t                common.changeTitle(titleContent);\n\t            }\n\t\n\t            stack.dom.find('.page').addClass('slideOut').on('animationend webkitAnimationEnd', function () {\n\t                stack.dom.remove();\n\t            });\n\t            this.setRefreshPage(page);\n\t            return this;\n\t        },\n\t        _findInStack: function (page) {\n\t            var found = null;\n\t            for (var i = 0, len = this._pageStack.length; i < len; i++) {\n\t                var stack = this._pageStack[i];\n\t                if (stack.page === page) {\n\t                    found = stack;\n\t                    break;\n\t                }\n\t            }\n\t            return found;\n\t        },\n\t        _bind: function (page) {\n\t            var events = page.events || {};\n\t            for (var t in events) {\n\t                for (var type in events[t]) {\n\t                    this.$container.on(type, t, events[t][type]);\n\t                }\n\t            }\n\t            page.isBind = true;\n\t        }\n\t    };\n\t    module.exports = pageManager;\n\t    \n\n\n/***/ },\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */\n/***/ function(module, exports, require) {\n\n\tmodule.exports = \"<div class=component-dialog data-bind=$root> <div class=\\\"js_dialog yy-template\\\" data-bind=attr:{id:$root.id} style=opacity:1;display:block> <div class=weui-mask data-bind=click:$root.onClickMask></div> <div class=weui-dialog> <div class=weui-dialog__hd data-bind=text:$root.title data-if=$root.isShowTitle><strong class=weui-dialog__title></strong></div> <div class=weui-dialog__bd data-bind=html:$root.content></div> <div class=weui-dialog__ft data-bind=$root.isShowFooter data-if=$root.isShowFooter> <a href=javascript:; class=\\\"weui-dialog__btn weui-dialog__btn_primary\\\" data-bind={text:$root.primaryText,click:$root.onClickPrimary} data-if=$root.isShowGrayButton></a> <a href=javascript:; class=\\\"weui-dialog__btn weui-dialog__btn_default\\\" data-bind={text:$root.defaultText,click:$root.onClickDefault}></a> </div> </div> </div> </div>\";\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, require) {\n\n\tmodule.exports = \"<div class=component-select data-bind=$root.options> <div class=\\\"weui-cells weui-cells_checkbox\\\" data-bind=foreach:$root.options> <div class=\\\"weui-cell weui-check__label\\\" data-bind=click:$root.onSelected> <div class=weui-cell__hd> <input type=checkbox class=weui-check data-bind=value data-attr=\\\"{id:'yySelect'+$index,checked:checked?'checked':'false',value:value}\\\"> <i class=weui-icon-checked></i> </div> <div class=weui-cell__bd> <p data-bind=text:name></p> </div> </div> </div> </div>\";\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, require) {\n\n\tmodule.exports = \"<div id=loadingToast style=display:none data-bind=$root> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class=\\\"weui-loading weui-icon_toast\\\"></i> <p class=weui-toast__content data-bind=text:$root.text></p> </div> </div>\";\n\n/***/ }\n/******/ ])","\n// The module cache\nvar installedModules = {};\n\n// object to store loaded and loading chunks\n// \"0\" means \"already loaded\"\n// Array means \"loading\", array contains callbacks\nvar installedChunks = {\n\t14:0\n};\n\n// The require function\nfunction require(moduleId) {\n\t// Check if module is in cache\n\tif(installedModules[moduleId])\n\t\treturn installedModules[moduleId].exports;\n\t\n\t// Create a new module (and put it into the cache)\n\tvar module = installedModules[moduleId] = {\n\t\texports: {},\n\t\tid: moduleId,\n\t\tloaded: false\n\t};\n\t\n\t// Execute the module function\n\tmodules[moduleId].call(module.exports, module, module.exports, require);\n\t\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\t\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\nrequire.e = function requireEnsure(chunkId, callback) {\n\t// \"0\" is the signal for \"already loaded\"\n\tif(installedChunks[chunkId] === 0)\n\t\treturn callback.call(null, require);\n\t\n\t// an array means \"currently loading\".\n\tif(installedChunks[chunkId] !== undefined) {\n\t\tinstalledChunks[chunkId].push(callback);\n\t} else {\n\t\t// start chunk loading\n\t\tinstalledChunks[chunkId] = [callback];\n\t\tvar head = document.getElementsByTagName('head')[0];\n\t\tvar script = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.charset = 'utf-8';\n\t\tscript.src = require.p + \"\" + {\"1\":\"a3fd827c0c004e429621\",\"2\":\"c6b9a0c8ea676fc7a8a5\",\"3\":\"fdf17f84105abe68c376\",\"4\":\"0d071a438bb8a16a7cbd\",\"5\":\"31d37a9f2bac8b793464\",\"6\":\"2007260e854be396e11a\",\"7\":\"822f0acb551a24ce64c6\",\"8\":\"441c77ea8d6164471d31\",\"9\":\"7a76ae47a72a1b8ec582\",\"10\":\"5e4d8a5a457e49ee3711\",\"11\":\"cbb2e3af59379e0d3cbd\",\"12\":\"758210ecaa58b9238c89\",\"13\":\"ab1b112b753ba67d9da4\",\"14\":\"b011ba13a4be36f48fa4\"}[chunkId] + \".js\";\n\t\thead.appendChild(script);\n\t}\n};\n\n// expose the modules object (__webpack_modules__)\nrequire.modules = modules;\n\n// expose the module cache\nrequire.cache = installedModules;\n\n// __webpack_public_path__\nrequire.p = \"dist/app/js/\";\n\n// install a JSONP callback for chunk loading\nwindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, callbacks = [];\n\twhile(chunkIds.length) {\n\t\tchunkId = chunkIds.shift();\n\t\tif(installedChunks[chunkId])\n\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tmodules[moduleId] = moreModules[moduleId];\n\t}\n\twhile(callbacks.length)\n\t\tcallbacks.shift().call(null, require);\n\tif(moreModules[0]) {\n\t\tinstalledModules[0] = 0;\n\t\trequire(0);\n\t}\n};","\n    \n    var xTemplate = {};\n    xTemplate.dialog = require('html-loader?-attrs!../../component/dialog.html');\n    xTemplate.select = require('html-loader?-attrs!../../component/select.html');\n    xTemplate.toast = require('html-loader?-attrs!../../component/toast.html');\n\n    /**\n     * 公共方法: 模板编译\n     * @param segment{$HTMLElement} jquery dom 对象\n     * @param data{Object} 数据模型对象\n     * @return {$HTMLElement} 编译后的$dom对象\n     * @example 在构造函数中\n     * compile.call(this, $(htmlString), this.viewModel)\n     * */\n    function templateCompile(segment, data, parentData, $index, $parentIndex, dataPath) {\n        var self = this, segmentWrapper, $excludeElement;\n        if (typeof dataPath === 'undefined') {\n            segmentWrapper = $('<div class=\"segment-wrapper\"></div>');\n            segment = segmentWrapper.append(segment);\n        }\n        $excludeElement = segment.find('[data-bind*=foreach]').find('[data-bind]');\n        dataPath = dataPath || [];\n        //segment.find('[data-bind]').filter(function (i, e) {\n        //  return !parentsHasProperty($(e), 'data-bind', 'foreach');\n        //});\n        function myEval(str, data) {\n            var func = 'with(data){' +\n                'var result;' +\n                'if(typeof str === \"undefined\"){str = \"\";}' +\n                'str = str.replace(/{#([^{}]+)}/g, function(m1, m2){return data[m2];});' +\n                'try{result = eval(str)}catch(ex){result = str; console.log(ex);} return result;}';\n            return (new Function('data', 'str', func))(data, str);\n        }\n\n        function reDraw(newVal, matchs, evalScope, $elem, $index, dataPath) {\n            var self = this;\n            var evalStr = matchs instanceof Array ? matchs[2] : matchs;\n            var _data = newVal || myEval(evalStr, evalScope);\n            var _fragment = document.createDocumentFragment();\n            var oldTemplate = $elem._template || ($elem._template = $elem.html());\n\n            function createNewFragment(cfg) {\n                var _compileElement;\n                var _cloneElement = $elem.clone();\n                _cloneElement.html(oldTemplate);\n                _compileElement = (self.compile || templateCompile).call(self, _cloneElement, cfg.data, cfg.parentData, cfg.index, cfg.parentIndex, cfg.dataPath);\n                _compileElement.children().each(function (index, element) {\n                    //var e = $(element).clone()[0];\n                    _fragment.appendChild(element);\n                });\n            }\n\n            var _path;\n            if (_data instanceof Array) {\n                for (var i = 0, len = _data.length; i < len; i++) {\n                    _path = (dataPath.push(evalStr + '[' + i + ']'), dataPath);\n                    createNewFragment.call(self, {\n                        data: _data[i],\n                        parentData: (function () {\n                            var num = 0;\n                            var len = _path.length;\n                            if (len > 0) {\n                                num = len - 2;\n                                num = num < 0 ? 0 : num;\n                                return eval(_path[num]);\n                            } else {\n                                return null;\n                            }\n                        }()),\n                        index: i,\n                        parentIndex: $index,\n                        dataPath: _path\n                    });\n                }\n            } else if (Object.prototype.toString.call(_data) === '[object Object]') {\n                _path = (dataPath.push(evalStr), dataPath);\n                createNewFragment.call(self, {\n                    data: _data,\n                    parentData: parentData,\n                    index: $index,\n                    parentIndex: $parentIndex,\n                    dataPath: _path\n                });\n            }\n            $elem.html('');\n            $elem.append(_fragment);\n        }\n\n        var bindElementsArray = Array.prototype.slice.call(segment.find('[data-bind]'));\n\n        function forEachBindElements(index, element, parentData, $parentIndex) {\n            var self = this;\n            var $elem = $(element);\n            var expression = $elem.attr('data-bind').replace(/\\$root/g, 'self.viewModel');\n            var dataAttrNames = ['data-if', 'data-href', 'data-attr', 'data-bind', 'data-class'];\n\n            function getMatchs(expression) {\n                var matchs = expression.match(/^\\b(\\w*?)\\b:(.*)/);\n                var matchs2 = expression.match(/^\\{(.*)\\}$/);\n                var bindMatch = expression.match(/\\(\\(([^\\(\\)]+)\\)\\)/);\n                var isBindMatch = false;\n                if (matchs2) {\n                    return {\n                        isArray: true,\n                        array: matchs2[1].split(',')\n                    }\n                }\n                if (!matchs) {\n                    if (bindMatch) {\n                        return {\n                            isOnlyBind: true,\n                            matchs: bindMatch[1]\n                        };\n                    } else {\n                        return false;\n                    }\n                }\n                if (bindMatch) {\n                    matchs[2] = bindMatch[1];\n                    isBindMatch = true;\n                }\n                return {\n                    matchs: matchs,\n                    isBindMatch: isBindMatch\n                };\n            }\n\n            if (elemIsInForeach($elem, $excludeElement)) {\n                return;\n            }\n            if (typeof data === 'array') {\n                data = {_arr_: data};\n            }\n            var watchList = [];\n            with (data) {\n                var ifAttr = $elem.attr(dataAttrNames[0]);\n                var hrefAttr = $elem.attr(dataAttrNames[1]);\n                var attrData = $elem.attr(dataAttrNames[2]);\n                var $parent = parentData;\n                var evalScope = $.extend({}, data, {\n                    $parent: parentData,\n                    $index: $index,\n                    $parentIndex: $parentIndex,\n                    self: self\n                });\n                var _bindEvent = function ($elem, matchs, $index, myEval, evalScope, data) {\n                    $elem[0][('on' + matchs[1])] = (function ($index) {\n                        return function (event) {\n                            try {\n                                var _eval = myEval(matchs[2], evalScope);\n                                _eval.call(this, event, data, $index);\n                            } catch (ex) {\n                                console.warn('_eval:::', _eval, 'matchs:::', matchs[2], 'evalScope:::', evalScope);\n                            }\n                        }\n                    })($index);\n                };\n                var isEventName = function (text) {\n                    var result = false;\n                    var textArr = ['click', 'blur', 'change', 'touch', 'focus', 'load', 'scroll', 'select'];\n                    textArr.forEach(function (v) {\n                        if (v === text) {\n                            result = true;\n                        }\n                    });\n                    return result;\n                };\n                if (ifAttr) {\n                    ifAttr = ifAttr.replace(/\\$root/g, 'self.viewModel');\n                    if (!myEval(ifAttr, evalScope)) {\n                        $elem.remove();\n                        return;\n                    }\n                }\n                if (hrefAttr) {\n                    hrefAttr = hrefAttr.replace(/\\$root/g, 'self.viewModel');\n                    hrefAttr = myEval(hrefAttr, evalScope);\n                    $elem.attr('href', hrefAttr);\n                }\n                var classAttr = $elem.attr(dataAttrNames[4]);\n                if (classAttr) {\n                    classAttr = classAttr.replace(/\\$root/g, 'self.viewModel');\n                    classAttr = myEval(classAttr, evalScope);\n                    $elem.addClass(classAttr);\n                }\n                if (attrData) {\n                    var attrMatchs;\n                    attrMatchs = myEval('attrMatchs=' + attrData, evalScope);\n                    for (var _name in attrMatchs) {\n                        var _val = attrMatchs[_name];\n                        if (_name === 'param' || _name === 'remoteCheck') {\n                            _val = JSON.stringify(_val);\n                            _name = 'data-' + _name;\n                        }\n                        if (_name === 'addClass') {\n                            $elem.addClass(_val);\n                        } else {\n                            $elem.attr(_name, _val);\n                        }\n                    }\n                }\n\n                var matchResult = getMatchs(expression);\n                if (matchResult) {\n                    if (matchResult.isArray) {\n                        for (var _m = 0, _item, itemMatchResult; _m < matchResult.array.length; _m++) {\n                            _item = matchResult.array[_m];\n                            itemMatchResult = getMatchs(_item);\n                            if (itemMatchResult) {\n                                putValues.call(self, itemMatchResult.matchs, itemMatchResult.isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent);\n                            }\n                        }\n                    } else if (matchResult.isOnlyBind) {\n                        $elem._template = $elem.html();\n                        watchList.push({\n                            key: matchResult.matchs,\n                            Func: function (newVal) {\n                                reDraw.call(self, newVal, matchResult.matchs, evalScope, $elem, $index, dataPath);\n                            }\n                        });\n                    } else {\n                        putValues.call(self, matchResult.matchs, matchResult.isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent);\n                    }\n                }\n\n                function putValues(matchs, isBindMatch, evalScope, $elem, watchList, reDraw, myEval, isEventName, _bindEvent) {\n                    var self = this;\n                    if (matchs) {\n                        switch (matchs[1]) {\n                            case 'text':\n                                if (matchs[2] === '[]') {\n                                    $elem.text(data);\n                                } else {\n                                    $elem.text(myEval(matchs[2], evalScope));\n                                    if (isBindMatch) {\n                                        watchList.push({\n                                            key: matchs[2],\n                                            Func: function (newVal) {\n                                                $elem.text(newVal);\n                                            }\n                                        });\n                                    }\n                                }\n                                break;\n                            case 'html':\n                                $elem.html(myEval(matchs[2], evalScope));\n                                if (isBindMatch) {\n                                    watchList.push({\n                                        key: matchs[2],\n                                        Func: function (newVal) {\n                                            $elem.html(newVal);\n                                        }\n                                    });\n                                }\n                                break;\n                            case 'foreach':\n                                $elem._template = $elem.html();\n                                reDraw.call(self, null, matchs, evalScope, $elem, evalScope.$index, dataPath);\n                                if (isBindMatch) {\n                                    watchList.push({\n                                        key: matchs[2],\n                                        Func: function (newVal) {\n                                            reDraw.call(self, newVal, matchs, evalScope, $elem, evalScope.$index, dataPath);\n                                        }\n                                    });\n                                }\n                                break;\n                            case 'attr':\n                                //todo:attr:{a:'t1', b:'t2'}\n                                var attrMatchs = matchs[2].match(/{(\\w.*?):(.*)}/);\n                                var _evalResult = myEval(attrMatchs[2], evalScope);\n                                $elem.attr(attrMatchs[1], (attrMatchs[1] === 'data-param' || attrMatchs[1] === 'data-remote-check') ? JSON.stringify(_evalResult) : _evalResult);\n                                var match2, watchStr;\n                                if ((match2 = /^([\\w\\.]+)\\b.*?\\?.*:/.exec(attrMatchs[2])) !== null) {\n                                    watchStr = match2[1];\n                                }\n                                if (isBindMatch) {\n                                    watchList.push({\n                                        key: matchs[2],\n                                        Func: function (newVal) {\n                                            $elem.attr(attrMatchs[1], myEval(attrMatchs[2], evalScope));\n                                        }\n                                    });\n                                }\n                                break;\n                            default:\n                                if (isEventName(matchs[1])) {\n                                    _bindEvent($elem, matchs, $index, myEval, evalScope, data);\n                                }\n                                break;\n                        }\n                    }\n                }\n\n                // console.log('%c%s', 'color:green', self);\n                try {\n                    watch.call(self, watchList, data, self.viewModel);\n                } catch (ex) {\n                }\n            }\n            //dataAttrNames.forEach(function (e) {\n            //  $elem.removeAttr(e);\n            //});\n\n        }\n\n        for (var _i = 0; _i < bindElementsArray.length; _i++) {\n            // if($(bindElementsArray[_i]).closest('[data-bind^=\"((\"]').length !== 0 && $(bindElementsArray[_i]).closest('[data-bind^=\"((\"]')[0] !== bindElementsArray[_i]){\n            forEachBindElements.call(self, _i, bindElementsArray[_i], parentData, $parentIndex);\n            // }\n        }\n\n        dataPath.pop();\n\n        return segment.hasClass('segment-wrapper') ? segment.children() : segment;\n\n        function elemIsInForeach($elem, $excludeElement) {\n            var result = false;\n            $excludeElement.each(function (index, elem) {\n                if (elem === $elem[0]) {\n                    result = true;\n                }\n            });\n            return result;\n        }\n\n        function parentsHasProperty(element, proName, proValue) {\n            var parent = element.parent();\n            var _proName = proName;\n            var reg = new RegExp('\\\\b' + proValue + '\\\\b');\n            var isHas = false;\n            element.parents().each(function () {\n                var proName = $(this).attr(_proName);\n                if (typeof proName !== 'undefined' && reg.test(proValue)) {\n                    isHas = true;\n                }\n            });\n            return isHas;\n        }\n\n        function watch(watchList, obj, modelRoot) {\n            var self = this;\n            for (var i = 0, item, arr = []; i < watchList.length; i++) {\n                item = watchList[i];\n                item.Func = [item.Func];\n                for (var n = 0, item2, isRepeat = false; n < arr.length; n++) {\n                    item2 = arr[n];\n                    if (item.key === item2.key) {\n                        item2.Func = item2.Func.concat(item.Func);\n                        isRepeat = true;\n                    }\n                }\n                !isRepeat && arr.push(item);\n            }\n            watchList = arr;\n            watchList.forEach(function (item) {\n                var watchStr = item.key, value, watchHandler, watchObj, match;\n                var defaultSetFunc = function (newVal) {\n                    var oldVal = value;\n                    value = newVal;\n                    if (watchHandler instanceof Array) {\n                        watchHandler.forEach(function (handler) {\n                            handler.call(self, newVal, oldVal);\n                        });\n                    } else {\n                        watchHandler.call(self, newVal, oldVal);\n                    }\n                };\n                if ((match = /self.viewModel.(.*)/.exec(watchStr))) {\n                    watchObj = modelRoot;\n                    watchStr = match[1];\n                } else {\n                    watchObj = obj;\n                }\n                if (/\\./.test(watchStr)) {\n                    var splitter = watchStr.split(/\\./);\n                    watchStr = splitter.pop();\n                    watchObj = myEval(splitter.join('.'), watchObj)\n                }\n                if (/\\{#([^{}]+)\\}/.test(watchStr)) {\n                    watchStr = /\\{#([^{}]+)\\}/.exec(watchStr)[1];\n                }\n                value = watchObj[watchStr];\n                (function (scope) {\n                    watchHandler = typeof item.Func !== 'string' ? item.Func : eval(item.Func);\n                })(obj);\n\n                Object.defineProperty(watchObj, watchStr, {\n                    get: function () {\n                        return value;\n                    },\n                    set: defaultSetFunc\n                });\n            });\n        }\n\n    }\n\n    /**\n     * 组件基类\n     * @param dataModel{object}[optional] 视图层的数据模型\n     * @param template{string}[required] html模板字符串\n     * @param container{string}[optional] 指定渲染的容器\n     * @param onEmpty{fuction}[optional] 当空数据的时候\n     * @param type{string}[optional] 加到页面里的方法\n     * */\n    function Component(dataModel, template, templateCompile, container, type) {\n        var segment;\n        var container = $(container || '#widgetContainer');\n        this.init = function () {\n            this.viewModel = dataModel;\n            this.compile = templateCompile;\n            segment = this.compile($(template), this.viewModel);\n            container.css('zIndex', 9999999);\n        };\n        this.destroy = function () {\n            segment.fadeOut(100);\n            setTimeout(function () {\n                segment.remove();\n            }, 100);\n            container.css('zIndex', -9);\n        };\n        this.init();\n        // segment.css('display', 'none');\n        if (type === 'append') {//如果append方式就添加进页面否则就替换原有的内容\n            container.append(segment);\n            segment.fadeIn(200);\n        } else {\n            container.html(segment);\n            segment.fadeIn(200);\n        }\n\n    }\n\n    /**\n     * 创建自定义组件的方法\n     * @param componentName{string}[required]组件的名称\n     * @param cfg{string}[required] 配置\n     * */\n    function createComponent(componentName, cfg) {\n        var componentTagElement = $('#component' + componentName.replace(/^(.)/, function (m1, m2) {\n                return m2.toUpperCase();\n            }));\n\n        var template;\n        if (componentTagElement.length > 0) {\n            if (cfg.templateSelector) {\n                template = $(cfg.templateSelector).html();\n            } else {\n                template = componentElement.html().match(/<!\\[CDATA\\[([\\s\\S]*?)\\]\\]>/m)[1].trim()\n            }\n        } else {\n            template = xTemplate[componentName];\n        }\n        return new Component(cfg.viewModel, template, templateCompile, cfg.container, cfg.type);\n    }\n\n//表单字段验证器\n    var _validator = {\n        hasBindSubmit: false,\n        submitHandler: function (event) {\n            var target = event.target;\n            var pageElement = $(target).closest('section[class*=\"page-\"]');\n            var hasError = false;\n            var formElement = $(pageElement.find('form'));\n            var action = formElement.attr('action');\n            var callback = formElement.attr('data-callback');\n            var checkArray = [];\n            var hasScroll = false;\n            formElement.find('[data-rule]').filter(function () {\n                return $(this).attr('questioncheck') || utils.visible(this);\n            }).each(function (i, e) {\n                var name = $(this).attr('name');\n                if ($(this).attr('questioncheck')) {\n                    name = $(this).attr('id').replace('_temp', '');\n                    var inputElements = pageElement.find('[name=' + name + ']');\n                    var questionElement = inputElements.eq(0).closest('.question');\n                    if (utils.visible(questionElement) && _validator.checkHasChecked(inputElements) === 0) {\n                        pageManager.showTooltip('请选择:' + (questionElement.find('.question-title').text() || questionElement.find('.title').text()), 'error');\n                        questionElement.attr('haserror', 'true');\n                        if (!hasScroll) {\n                            setTimeout(function () {\n                                $('.question').each(function (i, e) {\n                                    var $this = $(e);\n                                    var errorInput = $this.find('.error-input');\n                                    var errorCheckBox = $this.attr('haserror');\n                                    var page = $this.closest('.page');\n                                    if ((errorInput.length > 0 || errorCheckBox) && !hasScroll) {\n                                        console.log(this);\n                                        this.scrollIntoView();\n                                        hasScroll = true;\n                                        page[0].scrollTop -= 50;\n                                    }\n                                });\n                            }, 0);\n                        }\n                    } else {\n                        questionElement.removeAttr('haserror');\n                    }\n                    return;\n                }\n                checkArray.push(_validator.checkRule.call(this));\n            });\n            if ($(target).attr('onclick') && $(target).attr('onclick').indexOf('confirmSubmit') !== -1) {\n                return false;\n            }\n            function postData() {\n                _validator.removeAllErrorIcon();\n                pageManager.ajaxManager({\n                    url: action,\n                    form: formElement,\n                    success: function (res) {\n                        if (!_validator.responseHandler(res)) {\n                            if (callback) {\n                                location.hash = callback.replace('#', '') + 'v=' + Math.random();\n                            }\n                        }\n                    },\n                    fail: function () {\n                        pageManager.showTooltip('数据连接超时或异常', 'error');\n                    }\n                })();\n            }\n\n            $.when.apply($, checkArray).done(function () {\n                var args = Array.prototype.slice.call(arguments);\n                args.forEach(function (res) {\n                    if (res._error) {\n                        hasError = true;\n                    }\n                });\n                if (!hasError) {\n                    postData();\n                }\n            }).fail(function (ex) {\n                console.warn(ex);\n            }).always(function (res) {\n                console.log(res);\n            });\n            _validator.hasBindSubmit = true;\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        },\n        init: function (formSelector) {\n            $(formSelector || 'form').find('[data-rule]').each(function (i, e) {\n                var oldBlur = this.onblur;\n                var elem = this;\n                var onblurHandler = function (e) {\n                    $.when(_validator.checkRule.call(this, e)).then(\n                        function (res) {//没错误时\n                            oldBlur && oldBlur.call(elem, e);\n                        },\n                        function (msg) {//有错误时\n                            console.warn(msg);\n                        }\n                    );\n                };\n                this.onblur = onblurHandler;\n                var timer;\n                this.onkeyup = function (event) {\n                    var elem = this;\n                    clearTimeout(timer);\n                    timer = setTimeout(function () {\n                        $.when(_validator.checkRule.call(elem, e)).then(\n                            function (res) {//没错误时\n                                $(elem).closest('.weui-cell').removeClass('weui-cell_warn');\n                            },\n                            function (msg) {//有错误时\n                                console.warn(msg);\n                            }\n                        );\n                        ;\n                    }, 2000);\n                };\n            });\n        },\n        initForQuestionnaire: function (page) {\n            var checkboxNames = {}, radioNames = {};\n            var pages = 'BSP-birthed,BSP-food,BSP-sleep,BSP-smoking,BSP-sport,BSP-tzbs,BSP-wine,';\n            if (pages.indexOf(page + ',') === -1) {\n                return;\n            }\n            var pageName = '.page-' + utils.getInfoFromURL().hash;\n            //文本框添加标记\n            $(pageName).find('input[type=text]').filter(function () {\n                return !($(this).siblings().find('[type=checkbox]').length > 1);\n            }).attr('data-rule', 'noEmpty');\n            //复选框添加标记\n            $(pageName).find('input[type=checkbox]').each(function (i, e) {\n                checkboxNames[$(e).attr('name')] = 1;\n            });\n            for (var name1 in checkboxNames) {\n                $(pageName).find('[name=' + name1 + ']').after('<input type=\"hidden\" id=\"' + name1 + '_temp\" data-rule=\"noEmpty\" questioncheck=\"true\">');\n            }\n            //单选框添加标记\n            $(pageName).find('input[type=radio]').each(function (i, e) {\n                radioNames[$(e).attr('name')] = 1;\n            });\n            for (var name2 in radioNames) {\n                $(pageName).find('[name=' + name2 + ']').last().after('<input type=\"hidden\" id=\"' + name2 + '_temp\" data-rule=\"noEmpty\" questioncheck=\"true\">');\n            }\n            $(pageName).find('.weui-btn_primary').addClass('submit');\n            _validator.init(pageName + ' form');\n        },\n        checkHasChecked: function (inputElements) {\n            var num = 0;\n            inputElements.each(function (i, e) {\n                if (e.checked) {\n                    num += 1;\n                }\n            });\n            return num;\n        },\n        responseHandler: function (res) {\n            if (res.code != 0) {\n                _validator.addErrorMsg.call(this, res.message);\n                console.log('%c%s', 'color:orange', 'error');\n                return res.message;\n            } else {\n                console.log('%c%s', 'color:green', 'success');\n                return false;\n            }\n        }\n        ,\n        checkRule: function () {\n            var deferred = $.Deferred();\n            var targetElement = this;\n            var msg = _validator.getError.call(this);\n            var remoteCheck = $(this).attr('data-remoteCheck');\n            var paramData = $(this).attr('data-param');\n            if (msg) {//前端校验\n                if (msg === '输入不能为空') {\n                    try {\n                        var title = $(this).closest('.question').find('.title');\n                        msg = (title.text() || $(this).closest('.question').find('.question-title').text()) + '--' + msg;\n                    } catch (ex) {\n                    }\n                }\n                _validator.addErrorMsg.call(this, msg);\n                deferred.reject({_error: msg});\n                return deferred.promise();\n            } else {//后端校验\n                paramData = paramData ? JSON.parse(paramData) : {};\n                remoteCheck = remoteCheck ? JSON.parse(remoteCheck) : {};\n                if (remoteCheck.url) {\n                    var _paramData = {};\n                    if (remoteCheck.params) {\n                        remoteCheck.params.forEach(function (v) {\n                            _paramData[v] = null;\n                        });\n                    }\n                    _paramData[$(this).attr('name')] = $(this).val();\n                    window.pageManager.ajaxManager({\n                        url: remoteCheck.url,\n                        type: 'post',\n                        data: $.extend({}, _paramData, paramData),\n                        success: function (res) {\n                            var msg = _validator.responseHandler.call(targetElement, res);\n                            if (msg) {\n                                deferred.reject({_error: msg});\n                            } else {\n                                _validator.removeErrorMsg.call(targetElement);\n                                deferred.resolve({_noError: true});\n                            }\n                        },\n                        fail: function (ex) {\n                            deferred.reject({_error: ex});\n                            console.log(ex);\n                        }\n                    })();\n                } else {\n                    _validator.removeErrorMsg.call(this);\n                    deferred.resolve({_noError: true});\n                }\n            }\n            return deferred.promise();\n        }\n        ,\n        getError: function () {\n            var element = this;\n            var formElement = $(this).closest('.weui-cells_form');\n            var rules = {\n                mobile: {\n                    reg: '(\\\\+86)\\?1[3,5,6,7,8]\\\\d{9}',\n                    errorMsg: '手机号格式不正确'\n                },\n                number: {\n                    reg: '\\\\d+',\n                    errorMsg: '请输入正确的数字'\n                },\n                verification: {\n                    reg: '\\\\d{6}',\n                    errorMsg: '请输入正确的验证码'\n                },\n                idCard: {\n                    reg: '[0-9a-zA-Z]{15,20}',\n                    errorMsg: '您输入的身份证号有误，请核对后再次输入'\n                },\n                noEmpty: {\n                    reg: '\\\\S+',\n                    errorMsg: '输入不能为空'\n                },\n                streetDetail: {\n                    reg: '\\\\S+',\n                    errorMsg: '详细地址不能为空'\n                },\n                birthday: {\n                    reg: '\\\\S+',\n                    errorMsg: '出生日期不能为空'\n                },\n                password: {\n                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{8,}',\n                    errorMsg: '密码格式不正确，输入英文大小写字母，数字，特殊符号均可，至少8位'\n                },\n                verifyPassword: [{\n                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{8,}',\n                    errorMsg: '密码格式不正确，输入英文大小写字母，数字，特殊符号均可，至少8位'\n                }, {\n                    expression: '\"{#confirmPassword}\" === \"{#password}\" || \"{#confirmPassword}\" === \"{#newPassword}\"',\n                    errorMsg: '两次输入的密码不一致'\n                }],\n                name: {\n                    reg: '[^\\\\s\\\\t\\\\n\\\\r]{2,10}',\n                    errorMsg: '请输入2-10个字的名字'\n                }\n            };\n            var thisRule = rules[$(this).attr('data-rule')];\n            var regFromAttr = $(this).attr('pattern');\n            if (thisRule) {\n                if (!(thisRule instanceof Array)) {\n                    thisRule = [thisRule];\n                }\n                for (var i = 0, _rule, regStr; i < thisRule.length; i++) {\n                    _rule = thisRule[i];\n                    if (_rule.reg) {\n                        regStr = _rule.reg || regFromAttr;\n                        var reg = new RegExp('^' + regStr + '$');\n                        if (!reg.test($(this).val())) {\n                            return _rule.errorMsg || '请输入正确的' + $(this).attr('title');\n                        }\n                    }\n                    if (_rule.expression) {\n                        _rule.expression = _rule.expression.replace(/{#([^{}]+)}/g, function (m1, m2) {\n                            return formElement.find('[name=\"' + m2 + '\"]').val() || '';\n                        });\n                        var _result;\n                        try {\n                            _result = eval(_rule.expression);\n                        } catch (ex) {\n                            console.log('_result', ex);\n                            _result = false;\n                        }\n                        if (!_result) {\n                            return _rule.errorMsg || '请输入正确的' + $(this).attr('title');\n                        }\n\n                    }\n                }\n            }\n        }\n        ,\n        removeAllErrorIcon: function () {\n            $('.weui-cell_warn').removeClass('weui-cell_warn');\n        }\n        ,\n        removeErrorMsg: function () {\n            var $this = $(this);\n            var cellElement = $this.closest('.weui-cell');\n            if (cellElement.length === 0) {\n                var hasError = $this.hasClass('error-input');\n                if ($this.attr('placeholder') === '不能为空') {\n                    $this.attr('placeholder', '');\n                }\n                if (hasError) {\n                    $this.removeClass('error-input');\n                }\n                if (typeof $this.attr('data-rule') !== 'undefined' && $this.val().trim() === '') {\n                    $this.attr('placeholder', '不能为空');\n                    $this.addClass('error-input');\n                }\n            } else {\n                cellElement.removeClass('weui-cell_warn');\n            }\n        }\n        ,\n        addErrorMsg: function (msg) {\n            var $this = $(this);\n            var cellElement = $this.closest('.weui-cell');\n            if (cellElement.length === 0) {\n                if (typeof $this.attr('data-rule') !== 'undefined' && $this.val().trim() === '') {\n                    $this.attr('placeholder', '不能为空');\n                    $this.addClass('error-input');\n                }\n            } else {\n                cellElement.addClass('weui-cell_warn');\n            }\n            pageManager.showTooltip(msg);\n        }\n    };\n\n    var utils = {\n        visible: function (elem) {\n            elem = $(elem)\n            return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\"\n        },\n        paramToString: function (obj) {\n            var strArr = [];\n            for (var name in obj) {\n                strArr.push(name + '=' + obj[name]);\n            }\n            return strArr.join('&');\n        },\n        getDeviceInfo: function () {\n            var userAgent = navigator.userAgent;\n            return {\n                isIphone: /[Ii][Pp]hone/.test(userAgent),\n                isAndroid: /[Aa]ndroid/.test(userAgent)\n            };\n        },\n        getInfoFromURL: function (url) {\n            var host, hash, paramObj = {}, paramStr = '', paramArr = [], paramObj = {}, match1, match2, match3;\n            url = url || location.href;\n            match1 = /(((?:http|https):\\/\\/[^\\/]+)(?:.*?)\\/).*?(#?.*)$/.exec(url);\n            //临时增加的\n            var path = match1[1];\n            host = match1[2];\n            if (match1[3]) {\n                match2 = /(?:\\?([^#]*))?#([^\\?]*)(?:\\?(.*))?/.exec(match1[3]);\n                if (match2) {\n                    hash = match2[2];\n                    paramStr = (match2[1] || '') + (match2[3] ? (match2[1] ? '&' : '') + match2[3] : '');\n                } else {\n                    match3 = /(?:\\?([^#]*))?/.exec(match1[3]);\n                    paramStr = match3[1];\n                }\n                if (paramStr) {\n                    paramArr = paramStr.split('&');\n                    if (paramArr && paramArr.length > 0) {\n                        paramArr.forEach(function (v) {\n                            var d = v.split('=');\n                            var key = d[0];\n                            var value = d[1];\n                            // console.log(decodeURI(value));\n                            paramObj[key] = decodeURI(value);\n                        });\n                    }\n                }\n            }\n            return {\n                host: host + '/',\n                hash: hash,\n                path: path,\n                param: paramObj\n            };\n        },\n        /**获得编译后的页面片段*/\n        getPageSegment: function (cfg) {\n            return templateCompile.call(cfg, $(cfg.template), cfg.viewModel)\n        }\n    };\n\n//监听其它点击事件\n    function onClickContainer(event) {\n        var target = $(event.target);\n        var component = target.closest('[data-component]');\n        var router = target.closest('.js-router');\n        var submitButton = target.closest('.submit');\n        var tagName = target[0].tagName.toUpperCase();\n        if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n            target[0].focus();\n        }\n        if (submitButton.length > 0) {\n            if (target[0].tagName.toUpperCase() === 'EM') {\n                target[0].onclick();\n            } else {\n                _validator.submitHandler(event);\n            }\n        }\n        //点击router\n        if (router.length > 0) {\n            router = router.data('router');\n            window.pageManager.go(router);\n        }\n        //点击自定义组件\n        if (component.length > 0) {\n            var componentCfg = component.data('component');\n            var componentName = componentCfg;\n            if (componentCfg.toString() === '[object Object]') {\n                componentName = componentCfg.name;\n            }\n            switch (componentName.replace('yy-', '')) {\n                case 'select':\n                    if (target[0].tagName.toUpperCase() !== 'EM' || componentCfg.disabled) {\n                        return false;\n                    }\n                    var optionData = [];\n                    var hideFirst = componentCfg.hideFirst;\n                    component.find('select').find('option').each(function (i, e) {\n                        if (i === 0 && (hideFirst || $(e).attr('hidden') == 'true' || /选择/.test($(e).text()))) {\n                            return;\n                        }\n                        optionData.push({\n                            value: $(e).attr('value'),\n                            checked: e.selected,\n                            name: $(e).text()\n                        });\n                    });\n                    var IdNum = parseInt(Math.random() * 1000000, 10);\n                    var newSelectId = 'select' + IdNum;\n                    component.find('select').attr('data-widgetID', newSelectId);\n                    var dialogCfg = {\n                        type: 'append',\n                        viewModel: {\n                            id: 'dialog' + IdNum,\n                            isShowTitle: false,\n                            isShowFooter: false,\n                            title: '标题',\n                            content: '',\n                            primaryText: '是',\n                            onClickPrimaryText: function (event, data) {\n                            },\n                            defaultText: '否',\n                            onClickDefault: function (event, data) {\n                            },\n                            onClickMask: function (event, data) {\n                                setSelectData();\n                            }\n                        }\n                    };\n\n                function setSelectData() {\n                    var value;\n                    var elementId = '[data-widgetID=\"' + newSelectId + '\"]';\n                    $('.component-select').find('input').each(function (i, e) {\n                        if (e.checked) {\n                            value = e.value;\n                        }\n                    });\n                    $(elementId).val(value);\n                    $(elementId).trigger('change');\n                    $(elementId).children().each(function (i, e) {\n                        if (e.value === value) {\n                            $(e).trigger('click');\n                        }\n                    });\n                    setTimeout(function () {\n                        $('#widgetContainer')[0].onclick = null;\n                        dialogComponent.destroy();\n                    }, 0);\n                }\n\n                    var dialogComponent = createComponent('dialog', dialogCfg);\n                    var selectCfg = {\n                        container: '#dialog' + IdNum + ' .weui-dialog__bd',\n                        type: 'html',\n                        viewModel: {\n                            onSelected: function (event, data, index) {\n                                var target = $(event.target);\n                                var item = target.closest('.weui-check__label');\n                                $(item).siblings().find('input').each(function (i, e) {\n                                    e.checked = false;\n                                });\n                                item.find('input')[0].checked = true;\n                                setSelectData();\n                                return false;\n                            },\n                            options: optionData //下拉选项的值和选中所组成的数组\n                        }\n                    };\n                    createComponent('select', selectCfg);\n                    $('[checked=false]').removeAttr('checked');\n                    break;\n\n            }\n            return false;\n        }\n    }\n\n    //异步获取静态资源\n    function getPromise(file, dataType) {\n        var deffered = new $.Deferred();\n        $.ajax({\n            url: file,\n            type: 'get',\n            dataType: dataType,\n            success: function (res) {\n                var result = res;\n                if (dataType === 'html') {\n                    if (/html segment/.test(res)) {\n                        result = res.match(/html segment begin -->(.*?)<!-- html segment end/)[1];\n                    }\n                }\n                deffered.resolve(result);\n            }\n        });\n        return deffered.promise();\n    }\n\n    //添加form表单ajax提交的参数方法\n    $.fn.serializeObject = function () {\n        var obj = {};\n        var array = this.serializeArray();\n        array.forEach(function (v) {\n            obj[v.name] = v.value;\n        });\n        this.find('input[type=\"checkbox\"]').each(function (i, e) {\n            var name = $(this).attr('name');\n            var checkbox = obj[name];\n            if (!(checkbox instanceof Array)) {\n                obj[name] = [];\n            }\n            if (this.checked) {\n                obj[name].push($(this).val());\n            }\n        });\n        return obj;\n    };\n\n    module.exports = {\n        templateCompile: templateCompile,\n        Component: Component,\n        validator: _validator,\n        utils: utils,\n        onClickContainer: onClickContainer,\n        getPromise: getPromise,\n        createComponent: createComponent,\n        changeTitle: function (title) {\n            document.title = title;\n            var $iframe = $('<iframe  frameborder=\"0\" src=\"blank.html\" style=\"display: none;\"></iframe>');\n            $iframe[0].onload = function () {\n                setTimeout(function () {\n                    try {\n                        $iframe[0] && ($iframe[0].onload = null);\n                        $iframe[0].remove();\n                    } catch (ex) {\n                    }\n                }, 100);\n            };\n            $iframe.appendTo($('body'));\n        }\n    };\n    \n","\n    \n    var common = require('common');\n    var hostIndex = -1;\n    var hostList = ['localhost:8080', '192.168.1.118:8089', '192.168.1.104:3000', '192.168.1.116:80', '192.168.1.117', '192.168.1.118', '192.168.1.119'];\n    function switchHost(index) {\n        return hostList[index];\n    }\n\n    module.exports = {\n        api: {},\n        switchHost: switchHost,\n        autoSwitchHost: function () {\n            if (hostIndex++ === 3) {\n                hostIndex = 0;\n            }\n            return switchHost[hostIndex];\n        }\n    };\n    \n","\n    \n    var common = require('common');\n    var restAPI = require('restAPI');\n    var utils = common.utils;\n    var infoFromURL = utils.getInfoFromURL(location.href);\n    window.pathUrl = infoFromURL.path;\n    var myRequire = window.requirejs || function (requireArr, callback) {\n            requireArr.forEach(function (v) {\n                console.log(v);\n                var scriptName = v.match(/\\/([^\\/]+)$/)[1] + '.js';\n                var oldScript = getOldScript(scriptName);\n\n                function getOldScript(scriptName) {\n                    var exist = false;\n                    $('script').each(function (i, e) {\n                        var $e = $(e);\n                        var src = $e.attr('src');\n                        if (src.indexOf(scriptName) >= 0) {\n                            exist = $e;\n                            return false;\n                        }\n                    });\n                    return exist;\n                }\n\n                if (oldScript) {\n                    oldScript.remove();\n                }\n                var newScript = document.createElement('script');\n                newScript.src = './app/js/' + scriptName;\n                newScript.type = 'text/javascript'\n                document.body.appendChild(newScript);\n            });\n            callback && callback()\n        };\n    var pageManager = {\n        pageRecorder: [],\n        $container: $('#container'),\n        _pageStack: [],\n        _defaultPage: null,\n        _pageIndex: 1,\n        setDefault: function (defaultPage) {\n            this._defaultPage = defaultPage || 'home';\n            return this;\n        },\n        reloadPage: function () {\n            var reg = /code=(.*?)(?=&|$|#)/;\n            var href = location.href;\n            if (reg.test(href)) {\n                location.href = location.href.replace(reg, 'wxId=123');\n            } else {\n                location.reload();\n            }\n        },\n        setRefreshPage: function (page) {\n            //添加下拉刷新的行为。\n            var startX, endX, startY, endY, isArrivedTop = false;\n            var _timer_ = null;\n            var _interval = null;\n            var onTouchstart = function (event) {\n                var originalEvent = event;\n                try {\n                    startY = originalEvent.touches[0].clientY;\n                    startX = originalEvent.touches[0].clientX;\n                    // $('<p>'+document.body.scrollTop+'</p>').insertBefore('body');\n                    if (!isArrivedTop && document.body.scrollTop === 0) {\n                        isArrivedTop = true;\n                    }\n                } catch (ex) {\n                }\n            };\n            var onTouchmove = function (event) {\n                var originalEvent = event;\n                endY = originalEvent.changedTouches[0].clientY;\n                endX = originalEvent.changedTouches[0].clientX;\n\n                if (!isArrivedTop && document.body.scrollTop === 0) {\n                    isArrivedTop = true;\n                }\n                if (endY - startY > 20) {\n                    $('.refresh-icon').attr('style', 'transform: rotate(3600deg);transition-duration: 5s; transition-delay: 0s; visibility: visible;');\n\n//         clearInterval(_interval);\n//         _interval = setInterval(function(){\n\n//           _num++;\n//         }, 200);\n                }\n                clearTimeout(_timer_);\n                _timer_ = setTimeout(function () {\n                    // $('<p style=\"color:red\">'+document.body.scrollTop+'<br>'+endY+'<br>'+startY+'<br>'+isArrivedTop+'</p>').insertBefore('body');\n                    if (endY - startY > 30 && isArrivedTop) {\n                        window.location.href = window.location.href + '?v=' + Math.random();\n                    }\n                    $('.refresh-icon').css('visibility', 'hidden');\n                }, 1000);\n            };\n            var onTouchend = function (event) {\n                $('.refresh-icon').css('visibility', 'hidden');\n            };\n            if (page === 'home') {\n                document.ontouchstart = onTouchstart;\n                document.ontouchmove = onTouchmove;\n                document.ontouchend = onTouchend;\n            } else {\n                document.ontouchstart = null;\n                document.ontouchmove = null;\n                document.ontouchend = null;\n            }\n        },\n        setPageAppend: function (pageAppend) {\n            this._pageAppend = pageAppend;\n            return this;\n        },\n        beforeInit: function () {\n        },\n        init: function () {\n            var self = this;\n\n            if (history.state && history.state._pageIndex) {\n                this._pageIndex = history.state._pageIndex;\n            }\n\n            this._pageIndex--;\n\n            var page = utils.getInfoFromURL().hash || self._defaultPage;\n            self._go(page);\n            return this;\n        },\n        showTooltip: function (msg, type) {\n            type = type || 'error';\n            var $tooltips = $('.js_tooltips');\n            var showType = 'wait';\n            if (type === 'error') {\n                $tooltips.removeClass('weui-toptips_success');\n                $tooltips.addClass('weui-toptips_error');\n            }\n            if (type === 'success') {\n                $tooltips.removeClass('weui-toptips_error');\n                $tooltips.addClass('weui-toptips_success');\n            }\n            if ($tooltips.css('display') != 'none') return;\n            // toptips的fixed, 如果有`animation`, `position: fixed`不生效\n            $('.page.cell').removeClass('slideIn');\n            if (showType === 'wait' && $tooltips.css('display') === 'none') {\n                $tooltips.text(msg);\n                $tooltips.css('display', 'block');\n                setTimeout(function () {\n                    $tooltips.css('display', 'none');\n                }, 6000);\n            }\n        },\n\n        requestBackend: function (cfg) {\n            pageManager.ajaxManager({\n                //hostIndex: 2,\n                url: cfg.url,\n                data: cfg.param || {},\n                type: cfg.type || 'post',\n                success: function (res) {\n                    if (res.code != 0) {\n                        pageManager.showTooltip(res.message);\n                    } else {\n                        cfg.success(res.data);\n                    }\n                },\n                fail: function (ex) {\n                    pageManager.showTooltip('服务器错误,' + ex.responseText, 'error');\n                    cfg.fail && cfg.fail(ex);\n                }\n            });\n        },\n        ajaxManager: function (cfg) {\n            var self = this;\n            var host = restAPI.switchHost(cfg.hostIndex || 0);\n\n            function getSendData(data) {\n                var result = null;\n                var formElement = cfg.form ? $(cfg.form) : $('#container').children().last().find('form');\n                if (data) {\n                    if (Object.prototype.toString.call(data) === '[object Object]') {\n                        result = $.extend({}, {wxId: window.WXID}, cfg.data);\n                    } else if (typeof data === 'string') {\n                        result = data;\n                    }\n                } else {\n                    if (formElement.length !== 0) {\n                        result = $.extend({}, {wxId: window.WXID}, formElement.serializeObject());\n                    } else {\n                        result = $.extend({}, {wxId: window.WXID});\n                    }\n                }\n                return result;\n            }\n\n            function getSuccessHandler(cfg) {\n                var fn;\n                if (cfg.success) {\n                    fn = cfg.success;\n                } else if (cfg.successResult) {\n                    fn = cfg.successResult;\n                } else {\n                    fn = null;\n                }\n                return function (res) {\n                    if (res.code === 5008 || res.code === 5010 || res.code === 5007 || res.code === 5009) {\n                        self.securityVerification(res);\n                    } else {\n                        fn && fn(res);\n                    }\n                };\n            }\n\n            function getErrorHandler(cfg) {\n                if (cfg.fail) {\n                    return function (ex) {\n                        if (ex.responseText.match(/^\\s*\\[|{/)) {\n                            JSON.parse(ex.responseText);\n                        }\n                        console.error(ex);\n                        cfg.fail(ex);\n                    };\n                } else {\n                    return function (ex) {\n                        pageManager.showTooltip('数据请求超时或者异常！请重试！');\n                        console.error(ex)\n                    };\n                }\n            }\n\n            $.ajax({\n                url: /http|https/.test(cfg.url) ? cfg.url : ('http://' + host + '/' + cfg.url || cfg.pathUrl),\n                type: cfg.type || 'post',\n                data: getSendData(cfg.data),\n                dataType: cfg.dataType || 'json',\n                success: getSuccessHandler(cfg),\n                error: getErrorHandler(cfg)\n            });\n            return this;\n        },\n        clearPageStack: function (pageName, isContain, notReturn) {\n            var self = this;\n            var newStack = [];\n            var isAll = pageName === 'allPages';\n            var containerChildren = $('#container').children('section');\n            // 如果只剩一个login则返回\n            if (!notReturn &&\n                ((containerChildren.length === 1 && containerChildren.eq(0).hasClass('\"' + pageName + '\"')) || (self._pageStack.length === 1 && self._pageStack[0].page === pageName))\n            ) {\n                return;\n            }\n            containerChildren.each(function (i, e) {\n                var hasClass = $(e).hasClass('page-' + pageName);\n                if (isAll || (isContain ? hasClass : !hasClass)) {\n                    $(e).remove();\n                }\n            });\n            self._pageStack.forEach(function (e, i) {\n                var isEqual = e.page === pageName;\n                if (!(isAll || (isContain ? isEqual : !isEqual))) {\n                    newStack.push(e);\n                }\n            });\n            self._pageStack = newStack;\n        },\n        securityVerification: function (res) {\n            var self = this;\n            self.clearPageStack('login');\n            location.hash = 'login';\n            var msg = res.message;\n            //In addition to exit the other state\n            if (res.code != 5009) {\n                if (\"\" != msg) {\n                    self.showTooltip(msg, 'error');\n                }\n            }\n        },\n        getCookie: function (key) {\n            var reg = /([^=]*)=([^=]*)(?:;|$)/g;\n            var result = document.cookie.match(reg);\n            var obj = {};\n            if (result) {\n                result.forEach(function (v) {\n                    var d = reg.exec(v);\n                    var key = d[1];\n                    var value = d[2];\n                    obj[key] = value;\n                });\n            }\n            return obj[key];\n        },\n        setCookie: function (key, value) {\n            document.cookie = key + '=' + value;\n        },\n        go: function (to) {\n            if (!to) {\n                return;\n            }\n            location.hash = to;\n        },\n        onHashChange: function (event) {\n            var state = history.state || {};\n            var page = utils.getInfoFromURL().hash || pageManager._defaultPage;\n\n            function watchURL(oldURL, newURL) {\n                console.log('%c%s', 'color:green', newURL);\n                var isRefresh = false;\n                var resultHref;\n                newURL.replace(/(.*?)#(.*?)(v=.*?)(&.*)?$/, function (m0, m1, m2, m3, m4) {\n                    if (m3) {\n                        isRefresh = true;\n                        var reg = /(\\?|&)(v=.*?)(&|$)/;\n                        if (reg.test(m1)) {\n                            m1 = m1.replace(/(\\?|&)(v=.*?)(&|$)/, function (m0, m1, m2, m3) {\n                                return (m1 === '&' ? '' : m1) + m3;\n                            });\n                        } else {\n                            m1 = m1 + (/\\?/.test(m1) ? '' : '?');\n                        }\n                        var href = m1 + '&' + m3 + '#' + m2 + (m4 ? m4.replace(/^&/, '') : '');\n                        href = href.replace('?&', '?');\n                        href = href.replace(/(\\?|&)$/, '');\n                        resultHref = href;\n                    }\n                });\n                if (typeof resultHref !== 'undefined') {\n                    location.href = resultHref;\n                }\n                return isRefresh;\n            }\n\n            if (watchURL(event.oldURL, (event.newURL || location.href))) {\n                return;\n            }\n            if (pageManager._findInStack(page)) {\n                var remanentPagesLength = pageManager._pageStack.length;\n                var pagesArr = [], _page;\n                while (remanentPagesLength--) {\n                    _page = pageManager._pageStack[remanentPagesLength].page;\n                    pagesArr.push(_page);\n                    if (_page === page) {\n                        break;\n                    }\n                }\n                pagesArr.shift();\n                for (var i = 0; i < pagesArr.length; i++) {\n                    pageManager._back(pagesArr[i]);\n                }\n            } else {\n                pageManager._go(page);\n            }\n        },\n        getPageHtml: function (page, callback, fail) {\n            $.ajax({\n                url: 'fragment/' + page + '.html?V=' + Math.random(),\n                dataType: 'html',\n                success: function (html) {\n                    callback(html);\n                    //添加自定义的选择框ios除外\n                    $('.page-' + page).find('select').each(function (i, e) {\n                        var selectWrapperElement, componentCfg;\n                        selectWrapperElement = $(e).closest('[data-component*=yy-select]');\n                        if (selectWrapperElement.length === 0) {\n                            $(e).parent().attr('data-component', 'yy-select');\n                            selectWrapperElement = $(e).closest('[data-component*=yy-select]');\n                        }\n                        componentCfg = selectWrapperElement.data('component');\n                        $(e).parent().addClass('weui-cell-mask');\n                        if (!$(e).prev()[0] || $(e).prev()[0].tagName.toUpperCase() !== 'EM') {\n                            $('<em></em>').insertBefore($(e));\n                        }\n                        if (utils.getDeviceInfo().isIphone) {\n                            if (!componentCfg || !componentCfg.disabled) {\n                                try {\n                                    selectWrapperElement.find('.weui-cell-mask em').remove();\n                                } catch (ex) {\n                                    console.log(ex)\n                                }\n                            }\n                        }\n                    });\n\n                },\n                error: function (ex) {\n                    fail(ex)\n                    console.log(ex);\n                }\n            });\n        },\n        compileHtml: function (html, page) {\n            var $html, scripts;\n            if (/beforeRenderPage/.test(html)) {\n                html = html.replace(/(class=\"page[^\"]+)\"/, '$1 hidden\"');\n            }\n            $html = $(html);\n            scripts = [];\n            $html = $html.map(function (i, e) {\n                if (e instanceof HTMLScriptElement && $(e).attr('id') && $(e).attr('id').indexOf('pageCfg') !== -1) {\n                    var _page = '\".page-' + page + ' .page\"';\n                    var scriptSrc = $(e).attr('src');\n                    if (scriptSrc) {\n                        scripts.push({\n                            type: 'src',\n                            content: scriptSrc\n                        });\n                    } else {\n                        scripts.push({\n                            type: 'string',\n                            content: $(e).text()\n                        });\n                    }\n                    function getOtherScriptStr() {\n                        var innerScript = $(e).text();\n                        var scriptStr = '';\n                        var additionalScript = ';\\n pageCfg.template = $(' + _page + ').html()'\n                            + ';\\n $(' + _page + ').html(utils.getPageSegment(pageCfg))'\n                            + ';\\n (pageCfg.afterRenderPage && pageCfg.afterRenderPage())'\n                            + ';\\n _validator.init(\".page-' + page + ' form\")';\n                        if (/beforeRenderPage/.test(innerScript)) {\n                            scriptStr = '<script>$(function(){'\n                                + innerScript\n                                + '$.when(pageCfg.beforeRenderPage())'\n                                + '.then('\n                                + 'function(res){\\n $(' + _page + ').removeClass(\"hidden\");' + additionalScript + '},'\n                                + 'function(ex){\\n  setTimeout(function(){pageManager.clearPageStack(\"' + page + '\",true,true);},0);console.log(\"服务器错误\");})'\n                                + ';});<\\/script>';\n                        } else {\n                            scriptStr = '<script>$(function(){'\n                                + innerScript\n                                + additionalScript\n                                + ';\\n });<\\/script>';\n                        }\n                        return scriptStr;\n                    }\n\n                    return $(getOtherScriptStr())[0];\n                } else {\n                    return e;\n                }\n            });\n            return $('<section class=\"page-' + page + '\"><\\/section>').append($html);\n        },\n        loadPage: function (page, callback) {\n            var self = this;\n\n            function isInited(page) {\n                var result = false;\n                $('script[data-requiremodule]').each(function (i, e) {\n                    if (e.src && e.src.indexOf(page + '.js') >= 0) {\n                        result = true;\n                    }\n                });\n                return result;\n            }\n\n            if (isInited(page)) {\n                location.reload();\n            }\n            if (page === 'other') {\n                myRequire(['../app/js/page-js/other/' + page], callback);\n                return;\n            }\n            myRequire(['../app/js/page-js/' + page], callback);\n        },\n        initPage: function (html, page, scope, callback) {\n            var self = this;\n            var pageId = Math.random().toString().replace('0\\.', '');\n            var stackItem = {page: page, dom: null, id: pageId};\n            self._pageStack.push(stackItem);\n            //添加进度图标缓冲视觉\n            var toastCfg = {\n                type: 'append',\n                viewModel: {\n                    text: '数据加载中'\n                }\n            };\n            var toastComponent = common.createComponent('toast', toastCfg);\n            var $html = $('<section class=\"page-' + page + '\"></section>');\n            if (scope) {\n                html = utils.getPageSegment({\n                    template: html,\n                    viewModel: scope\n                });\n            }\n            $html.append(html);\n            $html.find('.page').addClass('slideIn').addClass(page);\n            $html.find('.page').on('animationend webkitAnimationEnd', function () {\n                $html.find('.page').removeClass('slideIn').addClass('js_show');\n            });\n            var titleContent = $html.find('[name = title]').val();\n            common.changeTitle(titleContent);\n            $(document).off(\"click\", \"#login\");\n            toastComponent.destroy();\n            self.$container.append($html);\n            stackItem.dom = $html;\n            callback && callback($html);\n        },\n        getFooterText: function (pageName, $html) {\n            var htmlWrapper = '<div class=\"page__ft\"><p>{text}</p></div>';\n            var num = '400-6506950';\n            var textArray = [\n                '咨询电话: {num}',\n                '如若您对体检数据有异议，请致电{num}咨询',\n                '问卷提交后将无法修改，提交前请再次确认。&lt;br&gt;>（若提交后发现信息有误，请联系客服重新填写{num}）'];\n            var pageMap = {\n                'apply': 0,\n                'user-active': 0,\n                'home': 0,\n                'BSP-tzbs': 2,\n                'OGTT-testing': 1,\n                'OGTT-testingById': 1,\n                'tel-change': 0,\n                'tel-changing': 0,\n                'Physical-testingresult': 1,\n                'Physical-testingresultById': 1\n            };\n            var text = textArray[pageMap[pageName]];\n            if (typeof text !== 'undefined') {\n                text = text.replace(/\\{num\\}/g, '<a href=\"tel:' + num + '\"> ' + num + ' </a>');\n                var resultHtml = htmlWrapper.replace(/\\{text\\}/g, text);\n                $html.find('.page').append(resultHtml);\n            }\n        },\n        _go: function (page) {\n            var self = this;\n            this._pageIndex++;\n            history.replaceState && history.replaceState({_pageIndex: this._pageIndex}, '', location.href);\n            self.loadPage(page);\n            this.setRefreshPage(page);\n            return this;\n        },\n        back: function () {\n            history.back();\n        },\n        _back: function (page) {\n            this._pageIndex--;\n            var self = this;\n            var stack = this._pageStack.pop();\n            if (!stack) {\n                return;\n            }\n\n            var found = this._findInStack(utils.getInfoFromURL().hash);\n            if (!found) {\n                self.loadPage(page);\n            } else {\n                var titleContent = self._pageStack[(self._pageStack.length - 1)].dom.find('[name = title]').val();\n                common.changeTitle(titleContent);\n            }\n\n            stack.dom.find('.page').addClass('slideOut').on('animationend webkitAnimationEnd', function () {\n                stack.dom.remove();\n            });\n            this.setRefreshPage(page);\n            return this;\n        },\n        _findInStack: function (page) {\n            var found = null;\n            for (var i = 0, len = this._pageStack.length; i < len; i++) {\n                var stack = this._pageStack[i];\n                if (stack.page === page) {\n                    found = stack;\n                    break;\n                }\n            }\n            return found;\n        },\n        _bind: function (page) {\n            var events = page.events || {};\n            for (var t in events) {\n                for (var type in events[t]) {\n                    this.$container.on(type, t, events[t][type]);\n                }\n            }\n            page.isBind = true;\n        }\n    };\n    module.exports = pageManager;\n    \n","module.exports = \"<div class=component-dialog data-bind=$root> <div class=\\\"js_dialog yy-template\\\" data-bind=attr:{id:$root.id} style=opacity:1;display:block> <div class=weui-mask data-bind=click:$root.onClickMask></div> <div class=weui-dialog> <div class=weui-dialog__hd data-bind=text:$root.title data-if=$root.isShowTitle><strong class=weui-dialog__title></strong></div> <div class=weui-dialog__bd data-bind=html:$root.content></div> <div class=weui-dialog__ft data-bind=$root.isShowFooter data-if=$root.isShowFooter> <a href=javascript:; class=\\\"weui-dialog__btn weui-dialog__btn_primary\\\" data-bind={text:$root.primaryText,click:$root.onClickPrimary} data-if=$root.isShowGrayButton></a> <a href=javascript:; class=\\\"weui-dialog__btn weui-dialog__btn_default\\\" data-bind={text:$root.defaultText,click:$root.onClickDefault}></a> </div> </div> </div> </div>\";","module.exports = \"<div class=component-select data-bind=$root.options> <div class=\\\"weui-cells weui-cells_checkbox\\\" data-bind=foreach:$root.options> <div class=\\\"weui-cell weui-check__label\\\" data-bind=click:$root.onSelected> <div class=weui-cell__hd> <input type=checkbox class=weui-check data-bind=value data-attr=\\\"{id:'yySelect'+$index,checked:checked?'checked':'false',value:value}\\\"> <i class=weui-icon-checked></i> </div> <div class=weui-cell__bd> <p data-bind=text:name></p> </div> </div> </div> </div>\";","module.exports = \"<div id=loadingToast style=display:none data-bind=$root> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class=\\\"weui-loading weui-icon_toast\\\"></i> <p class=weui-toast__content data-bind=text:$root.text></p> </div> </div>\";"],"sourceRoot":"webpack-module://"}