{"version":3,"sources":["binding-apply.js","./src/app/js-convertted/page-js/binding-apply.js","./src/app/pages/binding-apply/binding-apply.html ./~/html-loader?-attrs"],"names":["webpackJsonp","module","exports","require","postData","param","pageManager","ajaxManager","url","restAPI","bind","agreeBinding","common","utils","paramToString","data","type","success","res","code","console","warn","showTooltip","message","go","html","paramFromURL","getInfoFromURL","time","now","Date","getTime","s","location","hash","scope","nickName","roomName","mac","product_name","onClickAgree","secondaryWxId","isAgree","pkId","onClickDisagree","initPage",7],"mappings":"AAAAA,cAAc,IAER,EACA,SAASC,EAAQC,EAASC,GCkBhC,QAAAC,GAAAC,GACAC,EAAAC,aAEAC,IAAAC,EAAAC,KAAAC,aAAAH,IAAA,IAAAI,EAAAC,MAAAC,cAAAT,GACAU,KAAAV,EACAW,KAAA,OACAC,QAAA,SAAAC,GACA,GAAAA,EAAAC,MACAC,QAAAC,KAAAH,GACAZ,EAAAgB,YAAAJ,EAAAK,UAGAjB,EAAAkB,GAAA,iCAjCA,GAAAC,GAAAtB,EAAA,GACAM,EAAAN,EAAA,GACAG,EAAAH,EAAA,GACAS,EAAAT,EAAA,GAEAuB,EAAAd,EAAAC,MAAAc,iBAAAtB,MAEAuB,EAAAF,EAAAE,KACAC,GAAA,GAAAC,OAAAC,UACAC,GAAAH,EAAAD,GAAA,GACAI,IAAA,OACAC,SAAAC,KAAA,gBAGAzB,EAAAC,MACAC,cACAH,IAAA,6CACAH,OAAA,8CAsBA,IAAA8B,IACAC,SAAAV,EAAAU,SACAC,SAAAX,EAAAW,SACAC,IAAAZ,EAAAY,IACAC,aAAAb,EAAAa,aACAb,eACAc,aAAA,WACA,GAAAnC,IACAoC,cAAAf,EAAAe,cACAC,QAAA,EACAN,SAAAV,EAAAU,SACAO,KAAAjB,EAAAiB,KAEAvC,GAAAC,IAEAuC,gBAAA,WACA,GAAAvC,IACAoC,cAAAf,EAAAe,cACAC,QAAA,EACAN,SAAAV,EAAAU,SACAO,KAAAjB,EAAAiB,KAEAvC,GAAAC,IAIAC,GAAAuC,SAAApB,EAAA,gBAAAU,IDWMW,EACA,SAAS7C,EAAQC,EAASC,GE7EhCF,EAAAC,QAAA","file":"binding-apply.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ function(module, exports, require) {\n\n\tvar html = require(7);\n\tvar restAPI=require(2);\n\tvar pageManager=require(3);\n\tvar common=require(1);\n\t\n\t    var paramFromURL = common.utils.getInfoFromURL().param;\n\t\n\t    var time = paramFromURL.time;\n\t    var now = new Date().getTime();\n\t    var s = (now - time) / (1000 * 60);\n\t    if(s>=3600){\n\t        location.hash = 'invalid-page';\n\t    }\n\t\n\t    restAPI.bind = {\n\t        agreeBinding: {\n\t            url: 'equimentRest/restEquiment/equiment/isAgree',\n\t            param: ['secondaryWxId', 'isAgree', 'nickName', 'pkId']\n\t        }\n\t    };\n\t\n\t    function postData(param){\n\t        pageManager.ajaxManager({\n\t            //hostIndex: 2,\n\t            url: restAPI.bind.agreeBinding.url + '?' + common.utils.paramToString(param),\n\t            data: param,\n\t            type: 'post',\n\t            success: function (res) {\n\t                if (res.code != 0) {\n\t                    console.warn(res);\n\t                    pageManager.showTooltip(res.message);\n\t                } else {\n\t                    // renderChart(res.data);\n\t                    pageManager.go('msg-success?title=恭喜您链接成功!');\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    var scope = {\n\t        nickName: paramFromURL.nickName,\n\t        roomName: paramFromURL.roomName,\n\t        mac: paramFromURL.mac,\n\t        product_name: paramFromURL.product_name,\n\t        paramFromURL: paramFromURL,\n\t        onClickAgree: function () {\n\t            var param = {\n\t                secondaryWxId: paramFromURL.secondaryWxId,\n\t                isAgree: 0,\n\t                nickName: paramFromURL.nickName,\n\t                pkId: paramFromURL.pkId\n\t            };\n\t            postData(param);\n\t        },\n\t        onClickDisagree: function () {\n\t            var param = {\n\t                secondaryWxId: paramFromURL.secondaryWxId,\n\t                isAgree: 1,\n\t                nickName: paramFromURL.nickName,\n\t                pkId: paramFromURL.pkId\n\t            };\n\t            postData(param);\n\t        }\n\t    };\n\t\n\t    pageManager.initPage(html, 'binding-apply', scope);\n\t\n\n\n/***/ },\n\n/***/ 7:\n/***/ function(module, exports, require) {\n\n\tmodule.exports = \" <div class=\\\"page binding-apply\\\"> <input type=hidden name=title value=设备绑定申请 /> <div class=title> <span class=apply-name data-bind=text:$root.paramFromURL.nickName>一朵鲜花</span>申请绑定 </div> <div class=apply-equipment> <div class=weui-cell> <div class=\\\"weui-cell_hd cell_hd-pic\\\"> <img src=app/images/product01.jpg> </div> <div class=weui-cell_bd> <p class=product-name data-bind=text:$root.paramFromURL.product_name>空气猫PM2.5检测仪</p> <p class=product-position data-bind=text:$root.paramFromURL.roomName>客人房间</p> <p class=product-mac data-bind=text:$root.paramFromURL.mac>ed:ef:ab:ab:ab:ab</p> </div> </div> </div> <div class=add-equipment-btn> <a href=javascript:; class=\\\"weui-btn weui-btn_primary\\\" data-bind=click:$root.onClickAgree>同意</a> <a href=javascript:; class=\\\"weui-btn weui-btn_warn\\\" data-bind=click:$root.onClickDisagree>拒绝</a> </div> </div> \";\n\n/***/ }\n\n})","var html = require(\"html-loader?-attrs!../../pages/binding-apply/binding-apply.html\");\nvar restAPI=require(\"restAPI\");\nvar pageManager=require(\"pageManager\");\nvar common=require(\"common\");\n\n    var paramFromURL = common.utils.getInfoFromURL().param;\n\n    var time = paramFromURL.time;\n    var now = new Date().getTime();\n    var s = (now - time) / (1000 * 60);\n    if(s>=3600){\n        location.hash = 'invalid-page';\n    }\n\n    restAPI.bind = {\n        agreeBinding: {\n            url: 'equimentRest/restEquiment/equiment/isAgree',\n            param: ['secondaryWxId', 'isAgree', 'nickName', 'pkId']\n        }\n    };\n\n    function postData(param){\n        pageManager.ajaxManager({\n            //hostIndex: 2,\n            url: restAPI.bind.agreeBinding.url + '?' + common.utils.paramToString(param),\n            data: param,\n            type: 'post',\n            success: function (res) {\n                if (res.code != 0) {\n                    console.warn(res);\n                    pageManager.showTooltip(res.message);\n                } else {\n                    // renderChart(res.data);\n                    pageManager.go('msg-success?title=恭喜您链接成功!');\n                }\n            }\n        });\n    }\n\n    var scope = {\n        nickName: paramFromURL.nickName,\n        roomName: paramFromURL.roomName,\n        mac: paramFromURL.mac,\n        product_name: paramFromURL.product_name,\n        paramFromURL: paramFromURL,\n        onClickAgree: function () {\n            var param = {\n                secondaryWxId: paramFromURL.secondaryWxId,\n                isAgree: 0,\n                nickName: paramFromURL.nickName,\n                pkId: paramFromURL.pkId\n            };\n            postData(param);\n        },\n        onClickDisagree: function () {\n            var param = {\n                secondaryWxId: paramFromURL.secondaryWxId,\n                isAgree: 1,\n                nickName: paramFromURL.nickName,\n                pkId: paramFromURL.pkId\n            };\n            postData(param);\n        }\n    };\n\n    pageManager.initPage(html, 'binding-apply', scope);\n\n","module.exports = \" <div class=\\\"page binding-apply\\\"> <input type=hidden name=title value=设备绑定申请 /> <div class=title> <span class=apply-name data-bind=text:$root.paramFromURL.nickName>一朵鲜花</span>申请绑定 </div> <div class=apply-equipment> <div class=weui-cell> <div class=\\\"weui-cell_hd cell_hd-pic\\\"> <img src=app/images/product01.jpg> </div> <div class=weui-cell_bd> <p class=product-name data-bind=text:$root.paramFromURL.product_name>空气猫PM2.5检测仪</p> <p class=product-position data-bind=text:$root.paramFromURL.roomName>客人房间</p> <p class=product-mac data-bind=text:$root.paramFromURL.mac>ed:ef:ab:ab:ab:ab</p> </div> </div> </div> <div class=add-equipment-btn> <a href=javascript:; class=\\\"weui-btn weui-btn_primary\\\" data-bind=click:$root.onClickAgree>同意</a> <a href=javascript:; class=\\\"weui-btn weui-btn_warn\\\" data-bind=click:$root.onClickDisagree>拒绝</a> </div> </div> \";"],"sourceRoot":"webpack-module://"}