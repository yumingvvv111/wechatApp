{"version":3,"sources":["p6-play.js","./src/app/js-convertted/page-js/p6-play.js","./src/app/pages/p6-board/p6-play.html ./~/html-loader?-attrs"],"names":["webpackJsonp","module","exports","require","afterInitPage","$","hide","paramFromURL","coverPage","data","JSON","parse","circleBoardModel","forEach","v","renderCircleBoard","selector","frontRange","backRange","value","renderTime","uploadTime","circleElement","minA","maxA","meanA","originalNum","num","find","text","css","isNaN","addClass","_time","_time2","Date","getTime","parseInt","html","pageManager","common","utils","getInfoFromURL","param","scope","equipmentName","initPage",15],"mappings":"AAAAA,cAAc,KAER,EACA,SAASC,EAAQC,EAASC,GCYhC,QAAAC,KAEA,GADAC,EAAA,gCAAAC,OACAC,EAAAC,UAAA,CACA,GAAAC,GAAAC,KAAAC,MAAAJ,EAAAE,MACAG,EAAAH,EAAAG,gBACAA,GAAAC,QAAA,SAAAC,GACAC,EAAAD,EAAAE,SAAAF,EAAAG,WAAAH,EAAAI,UAAAJ,EAAAK,SAEAC,EAAAX,EAAAY,WAAA,4BAKA,QAAAN,GAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAG,GAAAjB,EAAAW,GAEAO,EAAAN,EAAA,GAEAO,EAAAP,EAAA,GAEAQ,EAAA,KAAAD,EAAAD,GAEAG,EAAAP,EACAQ,GAAAD,GAAA,GAAAD,CACAH,GAAAM,KAAA,eAAAC,KAAA,OAAAH,EAAA,KAAAA,GACA,KAAAC,EACAL,EAAAM,KAAA,eAAAE,IAAA,sBAAAH,EAAA,QAEAL,EAAAM,KAAA,eAAAE,IAAA,8BAGAC,MAAAL,GACAJ,EAAAU,SAAA,kBAEAN,GAAAR,EAAA,GACAI,EAAAU,SAAA,iBACad,EAAA,GAAAQ,MAAAR,EAAA,GACbI,EAAAU,SAAA,mBAEAV,EAAAU,SAAA,gBAMA,QAAAZ,GAAAa,EAAAjB,GACA,GAAAkB,IAAA,GAAAC,OAAAC,SACAH,GAAAC,EAAAD,EAEAA,EADA,IAAAA,EACAI,SAAAJ,EAAA,UACSA,GAAA,UAAAA,EACTI,SAAAJ,EAAA,WACSA,GAAA,YAAAA,EACTI,SAAAJ,EAAA,YAEAI,SAAAJ,EAAA,YAEA5B,EAAAW,GAAAa,KAAAI,GAxEA,GAAAK,GAAAnC,EAAA,IAEAoC,GADApC,EAAA,GACAA,EAAA,IACAqC,EAAArC,EAAA,GAGAI,EAAAiC,EAAAC,MAAAC,iBAAAC,MAEAC,GACAC,cAAA,GAGAN,GAAAO,SAAAR,EAAA,UAAAM,EAAAxC,IDyEM2C,GACA,SAAS9C,EAAQC,EAASC,GEtFhCF,EAAAC,QAAA","file":"p6-play.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 0:\n/***/ function(module, exports, require) {\n\n\tvar html = require(15);\n\tvar restAPI=require(2);\n\tvar pageManager=require(3);\n\tvar common=require(1);\n\t\n\t\n\t    var paramFromURL = common.utils.getInfoFromURL().param;\n\t\n\t    var scope = {\n\t        equipmentName: ''\n\t    };\n\t\n\t    pageManager.initPage(html, 'p6-play', scope, afterInitPage);\n\t\n\t\n\t    function afterInitPage() {\n\t        $('.page-p6-play #equipmentName').hide();\n\t        if(paramFromURL.coverPage){\n\t            var data = JSON.parse(paramFromURL.data);\n\t            var circleBoardModel = data.circleBoardModel;\n\t            circleBoardModel.forEach(function (v) {\n\t                renderCircleBoard(v.selector, v.frontRange, v.backRange, v.value);\n\t            });\n\t            renderTime(data.uploadTime, '.pape-p6-play .ink-info');\n\t        }\n\t    }\n\t\n\t\n\t    function renderCircleBoard(selector, frontRange, backRange, value) {\n\t        var circleElement = $(selector);\n\t        //最小值\n\t        var minA = frontRange[0];\n\t        //最大值\n\t        var maxA = frontRange[1];\n\t        //一个数字平均旋转度数\n\t        var meanA = 180 / (maxA - minA);\n\t        //具体数字\n\t        var originalNum = value;\n\t        var num = (originalNum || 0) * meanA;\n\t        circleElement.find('.big-number').text(originalNum === null ? '--' : originalNum);\n\t        if (num <= 180) {\n\t            circleElement.find('.out-cricle').css('transform', \"rotate(\" + num + \"deg)\");\n\t        } else {\n\t            circleElement.find('.out-cricle').css('transform', \"rotate(180deg)\");\n\t        }\n\t        //判断背景环颜色\n\t        if (isNaN(originalNum)) {\n\t            circleElement.addClass('dial-box-white');\n\t        } else {\n\t            if (originalNum <= backRange[0]) {\n\t                circleElement.addClass('dial-box-blue');\n\t            } else if (backRange[0] < originalNum && originalNum <= backRange[1]) {\n\t                circleElement.addClass('dial-box-yellow');\n\t            } else {\n\t                circleElement.addClass('dial-box-red');\n\t            }\n\t        }\n\t    }\n\t\n\t\n\t    function renderTime(_time, selector) {\n\t        var _time2 = (new Date()).getTime();\n\t        _time = _time2 - _time;\n\t        if (_time < 60 * 1000) {\n\t            _time = parseInt(_time / 1000) + '秒前'\n\t        } else if (_time >= 60 * 1000 && _time < 60 * 60 * 1000) {\n\t            _time = parseInt(_time / (60 * 1000)) + '分钟前'\n\t        } else if (_time >= 60 * 60 * 1000 && _time < 60 * 60 * 24 * 1000) {\n\t            _time = parseInt(_time / (60 * 60 * 1000)) + '小时前'\n\t        } else {\n\t            _time = parseInt(_time / (60 * 60 * 24 * 1000)) + '天前'\n\t        }\n\t        $(selector).text(_time);\n\t    }\n\t\n\t\n\n\n/***/ },\n\n/***/ 15:\n/***/ function(module, exports, require) {\n\n\tmodule.exports = \" <div class=\\\"page p6-data black-bgcolor\\\"> <input type=hidden name=title value=空气猫P6型雾霾检测仪 /> <div class=\\\"top-title clearfix\\\"> <a href=javascript:; class=\\\"home fl\\\" id=equipmentName data-bind={text:$root.equipmentName,click:$root.onClickEquipmentName}></a> <span class=\\\"link-info fr\\\">3分钟前</span> </div> <div class=dial-listbox> <div class=\\\"dial-box dial-box2\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>mg/m³</div> <div class=texting-big-num><span class=big-number>0.05</span></div> <div class=texting-num>甲醛<span class=mlr5>|</span><span class=small-number>优</span></div> </div> </div> <div class=\\\"dial-box dial-box3\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>mg/m³</div> <div class=texting-big-num><span class=big-number>--</span></div> <div class=texting-num>化学污染物<span class=mlr5>|</span><span class=small-number>--</span> </div> </div> </div> <div class=\\\"dial-box dial-box1\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>&mu;g/m³</div> <div class=texting-big-num><span class=big-number>189</span></div> <div class=texting-num>PM2.5<span class=mlr5>|</span><span class=small-number>严重</span> </div> </div> </div> <div class=\\\"dial-box dial-box4\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company></div> <div class=texting-big-num><span class=big-number>430</span></div> <div class=texting-num>污染指数</div> </div> </div> <div class=\\\"dial-box dial-box5 dial-box-blue\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>℃</div> <div class=texting-big-num><span class=big-number>27</span></div> <div class=texting-num>温度</div> </div> </div> <div class=\\\"dial-box dial-box6 dial-box-blue\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>%</div> <div class=texting-big-num><span class=big-number>56</span></div> <div class=texting-num>湿度</div> </div> </div> <div class=clearfix></div> </div> <div class=product-infor> <div class=product-img> <img src=app/images/p6-image.png> </div> <div class=product-hd> <h2>空气猫P6plus型便携式空气质量动态检测仪</h2> <p>清华大学控股企业/激光传感器、电化学传感器、红外传感器、电子传感器/PM2.5、甲醛、二氧化碳、化学污染物、温度、湿度</p> </div> <div class=product-bd> <span class=shop-car><img src=app/images/shop-car.png> </span><a href=\\\"https://detail.tmall.com/item.htm?spm=a230r.1.14.6.ebb2eb2Lem6Va&id=533985656878&cm_id=140105335569ed55e27b&abbucket=4\\\" target=_blank>马上购买</a> </div> </div> </div> \";\n\n/***/ }\n\n})","var html = require(\"html-loader?-attrs!../../pages/p6-board/p6-play.html\");\nvar restAPI=require(\"restAPI\");\nvar pageManager=require(\"pageManager\");\nvar common=require(\"common\");\n\n\n    var paramFromURL = common.utils.getInfoFromURL().param;\n\n    var scope = {\n        equipmentName: ''\n    };\n\n    pageManager.initPage(html, 'p6-play', scope, afterInitPage);\n\n\n    function afterInitPage() {\n        $('.page-p6-play #equipmentName').hide();\n        if(paramFromURL.coverPage){\n            var data = JSON.parse(paramFromURL.data);\n            var circleBoardModel = data.circleBoardModel;\n            circleBoardModel.forEach(function (v) {\n                renderCircleBoard(v.selector, v.frontRange, v.backRange, v.value);\n            });\n            renderTime(data.uploadTime, '.pape-p6-play .ink-info');\n        }\n    }\n\n\n    function renderCircleBoard(selector, frontRange, backRange, value) {\n        var circleElement = $(selector);\n        //最小值\n        var minA = frontRange[0];\n        //最大值\n        var maxA = frontRange[1];\n        //一个数字平均旋转度数\n        var meanA = 180 / (maxA - minA);\n        //具体数字\n        var originalNum = value;\n        var num = (originalNum || 0) * meanA;\n        circleElement.find('.big-number').text(originalNum === null ? '--' : originalNum);\n        if (num <= 180) {\n            circleElement.find('.out-cricle').css('transform', \"rotate(\" + num + \"deg)\");\n        } else {\n            circleElement.find('.out-cricle').css('transform', \"rotate(180deg)\");\n        }\n        //判断背景环颜色\n        if (isNaN(originalNum)) {\n            circleElement.addClass('dial-box-white');\n        } else {\n            if (originalNum <= backRange[0]) {\n                circleElement.addClass('dial-box-blue');\n            } else if (backRange[0] < originalNum && originalNum <= backRange[1]) {\n                circleElement.addClass('dial-box-yellow');\n            } else {\n                circleElement.addClass('dial-box-red');\n            }\n        }\n    }\n\n\n    function renderTime(_time, selector) {\n        var _time2 = (new Date()).getTime();\n        _time = _time2 - _time;\n        if (_time < 60 * 1000) {\n            _time = parseInt(_time / 1000) + '秒前'\n        } else if (_time >= 60 * 1000 && _time < 60 * 60 * 1000) {\n            _time = parseInt(_time / (60 * 1000)) + '分钟前'\n        } else if (_time >= 60 * 60 * 1000 && _time < 60 * 60 * 24 * 1000) {\n            _time = parseInt(_time / (60 * 60 * 1000)) + '小时前'\n        } else {\n            _time = parseInt(_time / (60 * 60 * 24 * 1000)) + '天前'\n        }\n        $(selector).text(_time);\n    }\n\n\n","module.exports = \" <div class=\\\"page p6-data black-bgcolor\\\"> <input type=hidden name=title value=空气猫P6型雾霾检测仪 /> <div class=\\\"top-title clearfix\\\"> <a href=javascript:; class=\\\"home fl\\\" id=equipmentName data-bind={text:$root.equipmentName,click:$root.onClickEquipmentName}></a> <span class=\\\"link-info fr\\\">3分钟前</span> </div> <div class=dial-listbox> <div class=\\\"dial-box dial-box2\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>mg/m³</div> <div class=texting-big-num><span class=big-number>0.05</span></div> <div class=texting-num>甲醛<span class=mlr5>|</span><span class=small-number>优</span></div> </div> </div> <div class=\\\"dial-box dial-box3\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>mg/m³</div> <div class=texting-big-num><span class=big-number>--</span></div> <div class=texting-num>化学污染物<span class=mlr5>|</span><span class=small-number>--</span> </div> </div> </div> <div class=\\\"dial-box dial-box1\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>&mu;g/m³</div> <div class=texting-big-num><span class=big-number>189</span></div> <div class=texting-num>PM2.5<span class=mlr5>|</span><span class=small-number>严重</span> </div> </div> </div> <div class=\\\"dial-box dial-box4\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company></div> <div class=texting-big-num><span class=big-number>430</span></div> <div class=texting-num>污染指数</div> </div> </div> <div class=\\\"dial-box dial-box5 dial-box-blue\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>℃</div> <div class=texting-big-num><span class=big-number>27</span></div> <div class=texting-num>温度</div> </div> </div> <div class=\\\"dial-box dial-box6 dial-box-blue\\\"> <div class=pie-cricle> <div class=out-cricle></div> <div class=inner-cricle></div> </div> <div class=mark-box> <div class=company>%</div> <div class=texting-big-num><span class=big-number>56</span></div> <div class=texting-num>湿度</div> </div> </div> <div class=clearfix></div> </div> <div class=product-infor> <div class=product-img> <img src=app/images/p6-image.png> </div> <div class=product-hd> <h2>空气猫P6plus型便携式空气质量动态检测仪</h2> <p>清华大学控股企业/激光传感器、电化学传感器、红外传感器、电子传感器/PM2.5、甲醛、二氧化碳、化学污染物、温度、湿度</p> </div> <div class=product-bd> <span class=shop-car><img src=app/images/shop-car.png> </span><a href=\\\"https://detail.tmall.com/item.htm?spm=a230r.1.14.6.ebb2eb2Lem6Va&id=533985656878&cm_id=140105335569ed55e27b&abbucket=4\\\" target=_blank>马上购买</a> </div> </div> </div> \";"],"sourceRoot":"webpack-module://"}